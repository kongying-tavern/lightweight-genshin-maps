"use strict";(()=>{var ac=Object.create;var Rt=Object.defineProperty;var cc=Object.getOwnPropertyDescriptor;var uc=Object.getOwnPropertyNames;var lc=Object.getPrototypeOf,fc=Object.prototype.hasOwnProperty;var Wn=(t,e)=>()=>(t&&(e=t(t=0)),e);var ft=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Jn=(t,e)=>{for(var r in e)Rt(t,r,{get:e[r],enumerable:!0})},qn=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of uc(e))!fc.call(t,o)&&o!==r&&Rt(t,o,{get:()=>e[o],enumerable:!(n=cc(e,o))||n.enumerable});return t};var ee=(t,e,r)=>(r=t!=null?ac(lc(t)):{},qn(e||!t||!t.__esModule?Rt(r,"default",{value:t,enumerable:!0}):r,t)),Yn=t=>qn(Rt({},"__esModule",{value:!0}),t);var bo={};Jn(bo,{Component:()=>ht,Fragment:()=>Y,cloneElement:()=>yc,createContext:()=>vc,createElement:()=>co,createRef:()=>hc,h:()=>co,hydrate:()=>go,isValidElement:()=>no,options:()=>C,render:()=>Bt,toChildArray:()=>po});function me(t,e){for(var r in e)t[r]=e[r];return t}function ao(t){var e=t.parentNode;e&&e.removeChild(t)}function co(t,e,r){var n,o,i,s={};for(i in e)i=="key"?n=e[i]:i=="ref"?o=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?dt.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]===void 0&&(s[i]=t.defaultProps[i]);return pt(t,s,n,o,null)}function pt(t,e,r,n,o){var i={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++ro};return o==null&&C.vnode!=null&&C.vnode(i),i}function hc(){return{current:null}}function Y(t){return t.children}function ht(t,e){this.props=t,this.context=e}function mt(t,e){if(e==null)return t.__?mt(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?mt(t):null}function uo(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return uo(t)}}function Lr(t){(!t.__d&&(t.__d=!0)&&Oe.push(t)&&!jt.__r++||Kn!==C.debounceRendering)&&((Kn=C.debounceRendering)||oo)(jt)}function jt(){var t,e,r,n,o,i,s,a;for(Oe.sort(Pr);t=Oe.shift();)t.__d&&(e=Oe.length,n=void 0,o=void 0,s=(i=(r=t).__v).__e,(a=r.__P)&&(n=[],(o=me({},i)).__v=i.__v+1,Dr(a,i,o,r.__n,a.ownerSVGElement!==void 0,i.__h!=null?[s]:null,n,s??mt(i),i.__h),_o(n,i),i.__e!=s&&uo(i)),Oe.length>e&&Oe.sort(Pr));jt.__r=0}function lo(t,e,r,n,o,i,s,a,u,l){var c,p,f,h,y,A,S,m=n&&n.__k||so,_=m.length;for(r.__k=[],c=0;c<e.length;c++)if((h=r.__k[c]=(h=e[c])==null||typeof h=="boolean"||typeof h=="function"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?pt(null,h,null,null,h):Array.isArray(h)?pt(Y,{children:h},null,null,null):h.__b>0?pt(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=r,h.__b=r.__b+1,(f=m[c])===null||f&&h.key==f.key&&h.type===f.type)m[c]=void 0;else for(p=0;p<_;p++){if((f=m[p])&&h.key==f.key&&h.type===f.type){m[p]=void 0;break}f=null}Dr(t,h,f=f||Ht,o,i,s,a,u,l),y=h.__e,(p=h.ref)&&f.ref!=p&&(S||(S=[]),f.ref&&S.push(f.ref,null,h),S.push(p,h.__c||y,h)),y!=null?(A==null&&(A=y),typeof h.type=="function"&&h.__k===f.__k?h.__d=u=fo(h,u,t):u=ho(t,h,f,m,y,u),typeof r.type=="function"&&(r.__d=u)):u&&f.__e==u&&u.parentNode!=t&&(u=mt(f))}for(r.__e=A,c=_;c--;)m[c]!=null&&(typeof r.type=="function"&&m[c].__e!=null&&m[c].__e==r.__d&&(r.__d=mo(n).nextSibling),vo(m[c],m[c]));if(S)for(c=0;c<S.length;c++)yo(S[c],S[++c],S[++c])}function fo(t,e,r){for(var n,o=t.__k,i=0;o&&i<o.length;i++)(n=o[i])&&(n.__=t,e=typeof n.type=="function"?fo(n,e,r):ho(r,n,n,o,n.__e,e));return e}function po(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){po(r,e)}):e.push(t)),e}function ho(t,e,r,n,o,i){var s,a,u;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||o!=i||o.parentNode==null)e:if(i==null||i.parentNode!==t)t.appendChild(o),s=null;else{for(a=i,u=0;(a=a.nextSibling)&&u<n.length;u+=1)if(a==o)break e;t.insertBefore(o,i),s=i}return s!==void 0?s:o.nextSibling}function mo(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=mo(r)))return n}return null}function mc(t,e,r,n,o){var i;for(i in r)i==="children"||i==="key"||i in e||$t(t,i,null,r[i],n);for(i in e)o&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||r[i]===e[i]||$t(t,i,e[i],r[i],n)}function Qn(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||pc.test(e)?r:r+"px"}function $t(t,e,r,n,o){var i;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Qn(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Qn(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n||t.addEventListener(e,i?to:eo,i):t.removeEventListener(e,i?to:eo,i);else if(e!=="dangerouslySetInnerHTML"){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function eo(t){return this.l[t.type+!1](C.event?C.event(t):t)}function to(t){return this.l[t.type+!0](C.event?C.event(t):t)}function Dr(t,e,r,n,o,i,s,a,u){var l,c,p,f,h,y,A,S,m,_,b,I,D,g,x,M=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(u=r.__h,a=e.__e=r.__e,e.__h=null,i=[a]),(l=C.__b)&&l(e);try{e:if(typeof M=="function"){if(S=e.props,m=(l=M.contextType)&&n[l.__c],_=l?m?m.props.value:l.__:n,r.__c?A=(c=e.__c=r.__c).__=c.__E:("prototype"in M&&M.prototype.render?e.__c=c=new M(S,_):(e.__c=c=new ht(S,_),c.constructor=M,c.render=_c),m&&m.sub(c),c.props=S,c.state||(c.state={}),c.context=_,c.__n=n,p=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),M.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=me({},c.__s)),me(c.__s,M.getDerivedStateFromProps(S,c.__s))),f=c.props,h=c.state,c.__v=e,p)M.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(M.getDerivedStateFromProps==null&&S!==f&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(S,_),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(S,c.__s,_)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(c.props=S,c.state=c.__s,c.__d=!1),c.__e=!1,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(w){w&&(w.__=e)}),b=0;b<c._sb.length;b++)c.__h.push(c._sb[b]);c._sb=[],c.__h.length&&s.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(S,c.__s,_),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(f,h,y)})}if(c.context=_,c.props=S,c.__P=t,I=C.__r,D=0,"prototype"in M&&M.prototype.render){for(c.state=c.__s,c.__d=!1,I&&I(e),l=c.render(c.props,c.state,c.context),g=0;g<c._sb.length;g++)c.__h.push(c._sb[g]);c._sb=[]}else do c.__d=!1,I&&I(e),l=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++D<25);c.state=c.__s,c.getChildContext!=null&&(n=me(me({},n),c.getChildContext())),p||c.getSnapshotBeforeUpdate==null||(y=c.getSnapshotBeforeUpdate(f,h)),x=l!=null&&l.type===Y&&l.key==null?l.props.children:l,lo(t,Array.isArray(x)?x:[x],e,r,n,o,i,s,a,u),c.base=e.__e,e.__h=null,c.__h.length&&s.push(c),A&&(c.__E=c.__=null),c.__e=!1}else i==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=dc(r.__e,e,r,n,o,i,s,u);(l=C.diffed)&&l(e)}catch(w){e.__v=null,(u||i!=null)&&(e.__e=a,e.__h=!!u,i[i.indexOf(a)]=null),C.__e(w,e,r)}}function _o(t,e){C.__c&&C.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){C.__e(n,r.__v)}})}function dc(t,e,r,n,o,i,s,a){var u,l,c,p=r.props,f=e.props,h=e.type,y=0;if(h==="svg"&&(o=!0),i!=null){for(;y<i.length;y++)if((u=i[y])&&"setAttribute"in u==!!h&&(h?u.localName===h:u.nodeType===3)){t=u,i[y]=null;break}}if(t==null){if(h===null)return document.createTextNode(f);t=o?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),i=null,a=!1}if(h===null)p===f||a&&t.data===f||(t.data=f);else{if(i=i&&dt.call(t.childNodes),l=(p=r.props||Ht).dangerouslySetInnerHTML,c=f.dangerouslySetInnerHTML,!a){if(i!=null)for(p={},y=0;y<t.attributes.length;y++)p[t.attributes[y].name]=t.attributes[y].value;(c||l)&&(c&&(l&&c.__html==l.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(mc(t,f,p,o,a),c)e.__k=[];else if(y=e.props.children,lo(t,Array.isArray(y)?y:[y],e,r,n,o&&h!=="foreignObject",i,s,i?i[0]:r.__k&&mt(r,0),a),i!=null)for(y=i.length;y--;)i[y]!=null&&ao(i[y]);a||("value"in f&&(y=f.value)!==void 0&&(y!==t.value||h==="progress"&&!y||h==="option"&&y!==p.value)&&$t(t,"value",y,p.value,!1),"checked"in f&&(y=f.checked)!==void 0&&y!==t.checked&&$t(t,"checked",y,p.checked,!1))}return t}function yo(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){C.__e(n,r)}}function vo(t,e,r){var n,o;if(C.unmount&&C.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||yo(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){C.__e(i,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&vo(n[o],e,r||typeof t.type!="function");r||t.__e==null||ao(t.__e),t.__=t.__e=t.__d=void 0}function _c(t,e,r){return this.constructor(t,r)}function Bt(t,e,r){var n,o,i;C.__&&C.__(t,e),o=(n=typeof r=="function")?null:r&&r.__k||e.__k,i=[],Dr(e,t=(!n&&r||e).__k=co(Y,null,[t]),o||Ht,Ht,e.ownerSVGElement!==void 0,!n&&r?[r]:o?null:e.firstChild?dt.call(e.childNodes):null,i,!n&&r?r:o?o.__e:e.firstChild,n),_o(i,t)}function go(t,e){Bt(t,e,go)}function yc(t,e,r){var n,o,i,s=me({},t.props);for(i in e)i=="key"?n=e[i]:i=="ref"?o=e[i]:s[i]=e[i];return arguments.length>2&&(s.children=arguments.length>3?dt.call(arguments,2):r),pt(t.type,s,n||t.key,o||t.ref,null)}function vc(t,e){var r={__c:e="__cC"+io++,__:t,Consumer:function(n,o){return n.children(o)},Provider:function(n){var o,i;return this.getChildContext||(o=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&o.some(function(a){a.__e=!0,Lr(a)})},this.sub=function(s){o.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){o.splice(o.indexOf(s),1),a&&a.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}var dt,C,ro,no,Oe,Kn,oo,Pr,io,Ht,so,pc,$e=Wn(()=>{Ht={},so=[],pc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;dt=so.slice,C={__e:function(t,e,r,n){for(var o,i,s;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(t)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,n||{}),s=o.__d),s)return o.__E=o}catch(a){t=a}throw t}},ro=0,no=function(t){return t!=null&&t.constructor===void 0},ht.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=me({},this.state),typeof t=="function"&&(t=t(me({},r),this.props)),t&&me(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Lr(this))},ht.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Lr(this))},ht.prototype.render=Y,Oe=[],oo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pr=function(t,e){return t.__v.__b-e.__v.__b},jt.__r=0,io=0});var Do={};Jn(Do,{useCallback:()=>xc,useContext:()=>Ec,useDebugValue:()=>Sc,useEffect:()=>gc,useErrorBoundary:()=>Ic,useId:()=>Tc,useImperativeHandle:()=>wc,useLayoutEffect:()=>Po,useMemo:()=>Rr,useReducer:()=>Oo,useRef:()=>bc,useState:()=>ko});function Pe(t,e){C.__h&&C.__h(V,t,Be||e),Be=0;var r=V.__H||(V.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Vt}),r.__[t]}function ko(t){return Be=1,Oo(Lo,t)}function Oo(t,e,r){var n=Pe(Ee++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Lo(void 0,e),function(a){var u=n.__N?n.__N[0]:n.__[0],l=n.t(u,a);u!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=V,!V.u)){var o=function(a,u,l){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(f){return f.__c});if(c.every(function(f){return!f.__N}))return!i||i.call(this,a,u,l);var p=!1;return c.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(p=!0)}}),!(!p&&n.__c.props===a)&&(!i||i.call(this,a,u,l))};V.u=!0;var i=V.shouldComponentUpdate,s=V.componentWillUpdate;V.componentWillUpdate=function(a,u,l){if(this.__e){var c=i;i=void 0,o(a,u,l),i=c}s&&s.call(this,a,u,l)},V.shouldComponentUpdate=o}return n.__N||n.__}function gc(t,e){var r=Pe(Ee++,3);!C.__s&&Hr(r.__H,e)&&(r.__=t,r.i=e,V.__H.__h.push(r))}function Po(t,e){var r=Pe(Ee++,4);!C.__s&&Hr(r.__H,e)&&(r.__=t,r.i=e,V.__h.push(r))}function bc(t){return Be=5,Rr(function(){return{current:t}},[])}function wc(t,e,r){Be=6,Po(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Rr(t,e){var r=Pe(Ee++,7);return Hr(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function xc(t,e){return Be=8,Rr(function(){return t},e)}function Ec(t){var e=V.context[t.__c],r=Pe(Ee++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(V)),e.props.value):t.__}function Sc(t,e){C.useDebugValue&&C.useDebugValue(e?e(t):t)}function Ic(t){var e=Pe(Ee++,10),r=ko();return e.__=t,V.componentDidCatch||(V.componentDidCatch=function(n,o){e.__&&e.__(n,o),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Tc(){var t=Pe(Ee++,11);if(!t.__){for(var e=V.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function Mc(){for(var t;t=Ao.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ft),t.__H.__h.forEach(Nr),t.__H.__h=[]}catch(e){t.__H.__h=[],C.__e(e,t.__v)}}function Ac(t){var e,r=function(){clearTimeout(n),Mo&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Mo&&(e=requestAnimationFrame(r))}function Ft(t){var e=V,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),V=e}function Nr(t){var e=V;t.__c=t.__(),V=e}function Hr(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Lo(t,e){return typeof e=="function"?e(t):e}var Ee,V,Cr,wo,Be,Ao,Vt,xo,Eo,So,Io,To,Mo,Co=Wn(()=>{$e();Be=0,Ao=[],Vt=[],xo=C.__b,Eo=C.__r,So=C.diffed,Io=C.__c,To=C.unmount;C.__b=function(t){V=null,xo&&xo(t)},C.__r=function(t){Eo&&Eo(t),Ee=0;var e=(V=t.__c).__H;e&&(Cr===V?(e.__h=[],V.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Vt,r.__N=r.i=void 0})):(e.__h.forEach(Ft),e.__h.forEach(Nr),e.__h=[])),Cr=V},C.diffed=function(t){So&&So(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ao.push(e)!==1&&wo===C.requestAnimationFrame||((wo=C.requestAnimationFrame)||Ac)(Mc)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Vt&&(r.__=r.__V),r.i=void 0,r.__V=Vt})),Cr=V=null},C.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Ft),r.__h=r.__h.filter(function(n){return!n.__||Nr(n)})}catch(n){e.some(function(o){o.__h&&(o.__h=[])}),e=[],C.__e(n,r.__v)}}),Io&&Io(t,e)},C.unmount=function(t){To&&To(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Ft(n)}catch(o){e=o}}),r.__H=void 0,e&&C.__e(e,r.__v))};Mo=typeof requestAnimationFrame=="function"});var de=ft(j=>{var L=($e(),Yn(bo)),J=(Co(),Yn(Do));function zo(t,e){for(var r in e)t[r]=e[r];return t}function $r(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function jr(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function zt(t){this.props=t}function Go(t,e){function r(o){var i=this.props.ref,s=i==o.ref;return!s&&i&&(i.call?i(null):i.current=null),e?!e(this.props,o)||!s:$r(this.props,o)}function n(o){return this.shouldComponentUpdate=r,L.createElement(t,o)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(zt.prototype=new L.Component).isPureReactComponent=!0,zt.prototype.shouldComponentUpdate=function(t,e){return $r(this.props,t)||$r(this.state,e)};var No=L.options.__b;L.options.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),No&&No(t)};var kc=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Uo(t){function e(r){var n=zo({},r);return delete n.ref,t(n,r.ref||null)}return e.$$typeof=kc,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Ro=function(t,e){return t==null?null:L.toChildArray(L.toChildArray(t).map(e))},Xo={map:Ro,forEach:Ro,count:function(t){return t?L.toChildArray(t).length:0},only:function(t){var e=L.toChildArray(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:L.toChildArray},Oc=L.options.__e;L.options.__e=function(t,e,r,n){if(t.then){for(var o,i=e;i=i.__;)if((o=i.__c)&&o.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),o.__c(t,e)}Oc(t,e,r,n)};var Ho=L.options.unmount;function Zo(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=zo({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return Zo(n,e,r)})),t}function Wo(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return Wo(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function _t(){this.__u=0,this.t=null,this.__b=null}function Jo(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function qo(t){var e,r,n;function o(i){if(e||(e=t()).then(function(s){r=s.default||s},function(s){n=s}),n)throw n;if(!r)throw e;return L.createElement(r,i)}return o.displayName="Lazy",o.__f=!0,o}function Ve(){this.u=null,this.o=null}L.options.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Ho&&Ho(t)},(_t.prototype=new L.Component).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var o=Jo(n.__v),i=!1,s=function(){i||(i=!0,r.__R=null,o?o(a):a())};r.__R=s;var a=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=Wo(l,l.__c.__P,l.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.t.pop();)c.forceUpdate()}},u=e.__h===!0;n.__u++||u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},_t.prototype.componentWillUnmount=function(){this.t=[]},_t.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Zo(this.__b,r,n.__O=n.__P)}this.__b=null}var o=e.__a&&L.createElement(L.Fragment,null,t.fallback);return o&&(o.__h=null),[L.createElement(L.Fragment,null,e.__a?null:t.children),o]};var jo=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function Pc(t){return this.getChildContext=function(){return t.context},t.children}function Lc(t){var e=this,r=t.i;e.componentWillUnmount=function(){L.render(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,o){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),L.render(L.createElement(Pc,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Yo(t,e){var r=L.createElement(Lc,{__v:t,i:e});return r.containerInfo=e,r}(Ve.prototype=new L.Component).__a=function(t){var e=this,r=Jo(e.__v),n=e.o.get(t);return n[0]++,function(o){var i=function(){e.props.revealOrder?(n.push(o),jo(e,t,n)):o()};r?r(i):i()}},Ve.prototype.render=function(t){this.u=null,this.o=new Map;var e=L.toChildArray(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Ve.prototype.componentDidUpdate=Ve.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){jo(t,r,e)})};var Ko=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Dc=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Cc=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Nc=/[A-Z0-9]/g,Rc=typeof document<"u",Hc=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function Qo(t,e,r){return e.__k==null&&(e.textContent=""),L.render(t,e),typeof r=="function"&&r(),t?t.__c:null}function ei(t,e,r){return L.hydrate(t,e),typeof r=="function"&&r(),t?t.__c:null}L.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(L.Component.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var $o=L.options.event;function jc(){}function $c(){return this.cancelBubble}function Bc(){return this.defaultPrevented}L.options.event=function(t){return $o&&(t=$o(t)),t.persist=jc,t.isPropagationStopped=$c,t.isDefaultPrevented=Bc,t.nativeEvent=t};var Br,Vc={enumerable:!1,configurable:!0,get:function(){return this.class}},Bo=L.options.vnode;L.options.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,o={};for(var i in r){var s=r[i];if(!(i==="value"&&"defaultValue"in r&&s==null||Rc&&i==="children"&&n==="noscript"||i==="class"||i==="className")){var a=i.toLowerCase();i==="defaultValue"&&"value"in r&&r.value==null?i="value":i==="download"&&s===!0?s="":a==="ondoubleclick"?i="ondblclick":a!=="onchange"||n!=="input"&&n!=="textarea"||Hc(r.type)?a==="onfocus"?i="onfocusin":a==="onblur"?i="onfocusout":Cc.test(i)?i=a:n.indexOf("-")===-1&&Dc.test(i)?i=i.replace(Nc,"-$&").toLowerCase():s===null&&(s=void 0):a=i="oninput",a==="oninput"&&o[i=a]&&(i="oninputCapture"),o[i]=s}}n=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=L.toChildArray(r.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),n=="select"&&o.defaultValue!=null&&(o.value=L.toChildArray(r.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),r.class&&!r.className?(o.class=r.class,Object.defineProperty(o,"className",Vc)):(r.className&&!r.class||r.class&&r.className)&&(o.class=o.className=r.className),e.props=o}(t),t.$$typeof=Ko,Bo&&Bo(t)};var Vo=L.options.__r;L.options.__r=function(t){Vo&&Vo(t),Br=t.__c};var Fo=L.options.diffed;L.options.diffed=function(t){Fo&&Fo(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value),Br=null};var ti={ReactCurrentDispatcher:{current:{readContext:function(t){return Br.__n[t.__c].props.value}}}};function ri(t){return L.createElement.bind(null,t)}function Vr(t){return!!t&&t.$$typeof===Ko}function ni(t){return Vr(t)?L.cloneElement.apply(null,arguments):t}function oi(t){return!!t.__k&&(L.render(null,t),!0)}function ii(t){return t&&(t.base||t.nodeType===1&&t)||null}var si=function(t,e){return t(e)},ai=function(t,e){return t(e)},ci=L.Fragment;function Fr(t){t()}function ui(t){return t}function li(){return[!1,Fr]}var fi=J.useLayoutEffect;function pi(t,e){var r=e(),n=J.useState({p:{__:r,h:e}}),o=n[0].p,i=n[1];return J.useLayoutEffect(function(){o.__=r,o.h=e,jr(o.__,e())||i({p:o})},[t,r,e]),J.useEffect(function(){return jr(o.__,o.h())||i({p:o}),t(function(){jr(o.__,o.h())||i({p:o})})},[t]),r}var Fc={useState:J.useState,useId:J.useId,useReducer:J.useReducer,useEffect:J.useEffect,useLayoutEffect:J.useLayoutEffect,useInsertionEffect:fi,useTransition:li,useDeferredValue:ui,useSyncExternalStore:pi,startTransition:Fr,useRef:J.useRef,useImperativeHandle:J.useImperativeHandle,useMemo:J.useMemo,useCallback:J.useCallback,useContext:J.useContext,useDebugValue:J.useDebugValue,version:"17.0.2",Children:Xo,render:Qo,hydrate:ei,unmountComponentAtNode:oi,createPortal:Yo,createElement:L.createElement,createContext:L.createContext,createFactory:ri,cloneElement:ni,createRef:L.createRef,Fragment:L.Fragment,isValidElement:Vr,findDOMNode:ii,Component:L.Component,PureComponent:zt,memo:Go,forwardRef:Uo,flushSync:ai,unstable_batchedUpdates:si,StrictMode:ci,Suspense:_t,SuspenseList:Ve,lazy:qo,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ti};Object.defineProperty(j,"Component",{enumerable:!0,get:function(){return L.Component}}),Object.defineProperty(j,"Fragment",{enumerable:!0,get:function(){return L.Fragment}}),Object.defineProperty(j,"createContext",{enumerable:!0,get:function(){return L.createContext}}),Object.defineProperty(j,"createElement",{enumerable:!0,get:function(){return L.createElement}}),Object.defineProperty(j,"createRef",{enumerable:!0,get:function(){return L.createRef}}),j.Children=Xo,j.PureComponent=zt,j.StrictMode=ci,j.Suspense=_t,j.SuspenseList=Ve,j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ti,j.cloneElement=ni,j.createFactory=ri,j.createPortal=Yo,j.default=Fc,j.findDOMNode=ii,j.flushSync=ai,j.forwardRef=Uo,j.hydrate=ei,j.isValidElement=Vr,j.lazy=qo,j.memo=Go,j.render=Qo,j.startTransition=Fr,j.unmountComponentAtNode=oi,j.unstable_batchedUpdates=si,j.useDeferredValue=ui,j.useInsertionEffect=fi,j.useSyncExternalStore=pi,j.useTransition=li,j.version="17.0.2",Object.keys(J).forEach(function(t){t==="default"||j.hasOwnProperty(t)||Object.defineProperty(j,t,{enumerable:!0,get:function(){return J[t]}})})});var Fe=ft((Mp,Gt)=>{(function(){"use strict";var t={}.hasOwnProperty,e="[native code]";function r(){for(var n=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")n.push(i);else if(Array.isArray(i)){if(i.length){var a=r.apply(null,i);a&&n.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){n.push(i.toString());continue}for(var u in i)t.call(i,u)&&i[u]&&n.push(u)}}}return n.join(" ")}typeof Gt<"u"&&Gt.exports?(r.default=r,Gt.exports=r):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return r}):window.classNames=r})()});var yi=ft(_i=>{"use strict";var ze=de();function Wc(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jc=typeof Object.is=="function"?Object.is:Wc,qc=ze.useState,Yc=ze.useEffect,Kc=ze.useLayoutEffect,Qc=ze.useDebugValue;function eu(t,e){var r=e(),n=qc({inst:{value:r,getSnapshot:e}}),o=n[0].inst,i=n[1];return Kc(function(){o.value=r,o.getSnapshot=e,Kr(o)&&i({inst:o})},[t,r,e]),Yc(function(){return Kr(o)&&i({inst:o}),t(function(){Kr(o)&&i({inst:o})})},[t]),Qc(r),r}function Kr(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Jc(t,r)}catch{return!0}}function tu(t,e){return e()}var ru=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tu:eu;_i.useSyncExternalStore=ze.useSyncExternalStore!==void 0?ze.useSyncExternalStore:ru});var gi=ft((Lp,vi)=>{"use strict";vi.exports=yi()});var Qs=ft((Ks,Cn)=>{(function(t){"use strict";var e=_(),r=b(),n=I(),o=D(),i={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:a,toPng:l,toJpeg:c,toBlob:p,toPixelData:u,impl:{fontFaces:n,images:o,util:e,inliner:r,options:{}}};typeof Cn<"u"?Cn.exports=s:t.domtoimage=s;function a(g,x){return x=x||{},f(x),Promise.resolve(g).then(function(w){return y(w,x.filter,!0)}).then(A).then(S).then(M).then(function(w){return m(w,x.width||e.width(g),x.height||e.height(g))});function M(w){return x.bgcolor&&(w.style.backgroundColor=x.bgcolor),x.width&&(w.style.width=x.width+"px"),x.height&&(w.style.height=x.height+"px"),x.style&&Object.keys(x.style).forEach(function(T){w.style[T]=x.style[T]}),w}}function u(g,x){return h(g,x||{}).then(function(M){return M.getContext("2d").getImageData(0,0,e.width(g),e.height(g)).data})}function l(g,x){return h(g,x||{}).then(function(M){return M.toDataURL()})}function c(g,x){return x=x||{},h(g,x).then(function(M){return M.toDataURL("image/jpeg",x.quality||1)})}function p(g,x){return h(g,x||{}).then(e.canvasToBlob)}function f(g){typeof g.imagePlaceholder>"u"?s.impl.options.imagePlaceholder=i.imagePlaceholder:s.impl.options.imagePlaceholder=g.imagePlaceholder,typeof g.cacheBust>"u"?s.impl.options.cacheBust=i.cacheBust:s.impl.options.cacheBust=g.cacheBust}function h(g,x){return a(g,x).then(e.makeImage).then(e.delay(100)).then(function(w){var T=M(g);return T.getContext("2d").drawImage(w,0,0),T});function M(w){var T=document.createElement("canvas");if(T.width=x.width||e.width(w),T.height=x.height||e.height(w),x.bgcolor){var E=T.getContext("2d");E.fillStyle=x.bgcolor,E.fillRect(0,0,T.width,T.height)}return T}}function y(g,x,M){if(!M&&x&&!x(g))return Promise.resolve();return Promise.resolve(g).then(w).then(function(k){return T(g,k,x)}).then(function(k){return E(g,k)});function w(k){return k instanceof HTMLCanvasElement?e.makeImage(k.toDataURL()):k.cloneNode(!1)}function T(k,N,X){var W=k.childNodes;if(W.length===0)return Promise.resolve(N);return B(N,e.asArray(W),X).then(function(){return N});function B(ke,ne,q){var ie=Promise.resolve();return ne.forEach(function(xe){ie=ie.then(function(){return y(xe,q)}).then(function(se){se&&ke.appendChild(se)})}),ie}}function E(k,N){if(!(N instanceof Element))return N;return Promise.resolve().then(X).then(W).then(B).then(ke).then(function(){return N});function X(){ne(window.getComputedStyle(k),N.style);function ne(q,ie){q.cssText?ie.cssText=q.cssText:xe(q,ie);function xe(se,fe){e.asArray(se).forEach(function(P){fe.setProperty(P,se.getPropertyValue(P),se.getPropertyPriority(P))})}}}function W(){[":before",":after"].forEach(function(q){ne(q)});function ne(q){var ie=window.getComputedStyle(k,q),xe=ie.getPropertyValue("content");if(xe===""||xe==="none")return;var se=e.uid();N.className=N.className+" "+se;var fe=document.createElement("style");fe.appendChild(P(se,q,ie)),N.appendChild(fe);function P(H,F,$){var Q="."+H+":"+F,ae=$.cssText?kr($):Or($);return document.createTextNode(Q+"{"+ae+"}");function kr(pe){var he=pe.getPropertyValue("content");return pe.cssText+" content: "+he+";"}function Or(pe){return e.asArray(pe).map(he).join("; ")+";";function he(lt){return lt+": "+pe.getPropertyValue(lt)+(pe.getPropertyPriority(lt)?" !important":"")}}}}}function B(){k instanceof HTMLTextAreaElement&&(N.innerHTML=k.value),k instanceof HTMLInputElement&&N.setAttribute("value",k.value)}function ke(){N instanceof SVGElement&&(N.setAttribute("xmlns","http://www.w3.org/2000/svg"),N instanceof SVGRectElement&&["width","height"].forEach(function(ne){var q=N.getAttribute(ne);q&&N.style.setProperty(ne,q)}))}}}function A(g){return n.resolveAll().then(function(x){var M=document.createElement("style");return g.appendChild(M),M.appendChild(document.createTextNode(x)),g})}function S(g){return o.inlineAll(g).then(function(){return g})}function m(g,x,M){return Promise.resolve(g).then(function(w){return w.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(w)}).then(e.escapeXhtml).then(function(w){return'<foreignObject x="0" y="0" width="100%" height="100%">'+w+"</foreignObject>"}).then(function(w){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+x+'" height="'+M+'">'+w+"</svg>"}).then(function(w){return"data:image/svg+xml;charset=utf-8,"+w})}function _(){return{escape:ke,parseExtension:x,mimeType:M,dataAsUrl:B,isDataUrl:w,canvasToBlob:E,resolveUrl:k,getAndEncode:W,uid:N(),delay:ne,asArray:q,escapeXhtml:ie,makeImage:X,width:xe,height:se};function g(){var P="application/font-woff",H="image/jpeg";return{woff:P,woff2:P,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:H,jpeg:H,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function x(P){var H=/\.([^\.\/]*?)$/g.exec(P);return H?H[1]:""}function M(P){var H=x(P).toLowerCase();return g()[H]||""}function w(P){return P.search(/^(data:)/)!==-1}function T(P){return new Promise(function(H){for(var F=window.atob(P.toDataURL().split(",")[1]),$=F.length,Q=new Uint8Array($),ae=0;ae<$;ae++)Q[ae]=F.charCodeAt(ae);H(new Blob([Q],{type:"image/png"}))})}function E(P){return P.toBlob?new Promise(function(H){P.toBlob(H)}):T(P)}function k(P,H){var F=document.implementation.createHTMLDocument(),$=F.createElement("base");F.head.appendChild($);var Q=F.createElement("a");return F.body.appendChild(Q),$.href=H,Q.href=P,Q.href}function N(){var P=0;return function(){return"u"+H()+P++;function H(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function X(P){return new Promise(function(H,F){var $=new Image;$.onload=function(){H($)},$.onerror=F,$.src=P})}function W(P){var H=3e4;return s.impl.options.cacheBust&&(P+=(/\?/.test(P)?"&":"?")+new Date().getTime()),new Promise(function(F){var $=new XMLHttpRequest;$.onreadystatechange=kr,$.ontimeout=Or,$.responseType="blob",$.timeout=H,$.open("GET",P,!0),$.send();var Q;if(s.impl.options.imagePlaceholder){var ae=s.impl.options.imagePlaceholder.split(/,/);ae&&ae[1]&&(Q=ae[1])}function kr(){if($.readyState===4){if($.status!==200){Q?F(Q):pe("cannot fetch resource: "+P+", status: "+$.status);return}var he=new FileReader;he.onloadend=function(){var lt=he.result.split(/,/)[1];F(lt)},he.readAsDataURL($.response)}}function Or(){Q?F(Q):pe("timeout of "+H+"ms occured while fetching resource: "+P)}function pe(he){console.error(he),F("")}})}function B(P,H){return"data:"+H+";base64,"+P}function ke(P){return P.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function ne(P){return function(H){return new Promise(function(F){setTimeout(function(){F(H)},P)})}}function q(P){for(var H=[],F=P.length,$=0;$<F;$++)H.push(P[$]);return H}function ie(P){return P.replace(/#/g,"%23").replace(/\n/g,"%0A")}function xe(P){var H=fe(P,"border-left-width"),F=fe(P,"border-right-width");return P.scrollWidth+H+F}function se(P){var H=fe(P,"border-top-width"),F=fe(P,"border-bottom-width");return P.scrollHeight+H+F}function fe(P,H){var F=window.getComputedStyle(P).getPropertyValue(H);return parseFloat(F.replace("px",""))}}function b(){var g=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:T,shouldProcess:x,impl:{readUrls:M,inline:w}};function x(E){return E.search(g)!==-1}function M(E){for(var k=[],N;(N=g.exec(E))!==null;)k.push(N[1]);return k.filter(function(X){return!e.isDataUrl(X)})}function w(E,k,N,X){return Promise.resolve(k).then(function(B){return N?e.resolveUrl(B,N):B}).then(X||e.getAndEncode).then(function(B){return e.dataAsUrl(B,e.mimeType(k))}).then(function(B){return E.replace(W(k),"$1"+B+"$3")});function W(B){return new RegExp(`(url\\(['"]?)(`+e.escape(B)+`)(['"]?\\))`,"g")}}function T(E,k,N){if(X())return Promise.resolve(E);return Promise.resolve(E).then(M).then(function(W){var B=Promise.resolve(E);return W.forEach(function(ke){B=B.then(function(ne){return w(ne,ke,k,N)})}),B});function X(){return!x(E)}}}function I(){return{resolveAll:g,impl:{readAll:x}};function g(){return x(document).then(function(M){return Promise.all(M.map(function(w){return w.resolve()}))}).then(function(M){return M.join(`
`)})}function x(){return Promise.resolve(e.asArray(document.styleSheets)).then(w).then(M).then(function(E){return E.map(T)});function M(E){return E.filter(function(k){return k.type===CSSRule.FONT_FACE_RULE}).filter(function(k){return r.shouldProcess(k.style.getPropertyValue("src"))})}function w(E){var k=[];return E.forEach(function(N){try{e.asArray(N.cssRules||[]).forEach(k.push.bind(k))}catch(X){console.log("Error while reading CSS rules from "+N.href,X.toString())}}),k}function T(E){return{resolve:function(){var N=(E.parentStyleSheet||{}).href;return r.inlineAll(E.cssText,N)},src:function(){return E.style.getPropertyValue("src")}}}}}function D(){return{inlineAll:x,impl:{newImage:g}};function g(M){return{inline:w};function w(T){return e.isDataUrl(M.src)?Promise.resolve():Promise.resolve(M.src).then(T||e.getAndEncode).then(function(E){return e.dataAsUrl(E,e.mimeType(M.src))}).then(function(E){return new Promise(function(k,N){M.onload=k,M.onerror=N,M.src=E})})}}function x(M){if(!(M instanceof Element))return Promise.resolve(M);return w(M).then(function(){return M instanceof HTMLImageElement?g(M).inline():Promise.all(e.asArray(M.childNodes).map(function(T){return x(T)}))});function w(T){var E=T.style.getPropertyValue("background");return E?r.inlineAll(E).then(function(k){T.style.setProperty("background",k,T.style.getPropertyPriority("background"))}).then(function(){return T}):Promise.resolve(T)}}}})(Ks)});var xp=ee(de()),sc=ee(de());var ut=ee(Fe());var zc=Symbol(),Ur=Symbol(),yt="a",vt="w",Gc=(t,e)=>new Proxy(t,e),zr=Object.getPrototypeOf,Gr=new WeakMap,hi=t=>t&&(Gr.has(t)?Gr.get(t):zr(t)===Object.prototype||zr(t)===Array.prototype),Ut=t=>typeof t=="object"&&t!==null,Uc=t=>{if(Array.isArray(t))return Array.from(t);let e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(r=>{r.configurable=!0}),Object.create(zr(t),e)},Xr=t=>t[Ur]||t,Zr=(t,e,r,n)=>{if(!hi(t))return t;let o=n&&n.get(t);if(!o){let u=Xr(t);o=(l=>Object.values(Object.getOwnPropertyDescriptors(l)).some(c=>!c.configurable&&!c.writable))(u)?[u,Uc(u)]:[u],n?.set(t,o)}let[i,s]=o,a=r&&r.get(i);return a&&a[1].f===!!s||(a=((u,l)=>{let c={f:l},p=!1,f=(y,A)=>{if(!p){let S=c[yt].get(u);if(S||(S={},c[yt].set(u,S)),y===vt)S[vt]=!0;else{let m=S[y];m||(m=new Set,S[y]=m),m.add(A)}}},h={get:(y,A)=>A===Ur?u:(f("k",A),Zr(Reflect.get(y,A),c[yt],c.c)),has:(y,A)=>A===zc?(p=!0,c[yt].delete(u),!0):(f("h",A),Reflect.has(y,A)),getOwnPropertyDescriptor:(y,A)=>(f("o",A),Reflect.getOwnPropertyDescriptor(y,A)),ownKeys:y=>(f(vt),Reflect.ownKeys(y))};return l&&(h.set=h.deleteProperty=()=>!1),[h,c]})(i,!!s),a[1].p=Gc(s||i,a[0]),r&&r.set(i,a)),a[1][yt]=e,a[1].c=r,a[1].p},Wr=(t,e,r,n)=>{if(Object.is(t,e))return!1;if(!Ut(t)||!Ut(e))return!0;let o=r.get(Xr(t));if(!o)return!0;if(n){let s=n.get(t);if(s&&s.n===e)return s.g;n.set(t,{n:e,g:!1})}let i=null;try{for(let s of o.h||[])if(i=Reflect.has(t,s)!==Reflect.has(e,s),i)return i;if(o[vt]===!0){if(i=((s,a)=>{let u=Reflect.ownKeys(s),l=Reflect.ownKeys(a);return u.length!==l.length||u.some((c,p)=>c!==l[p])})(t,e),i)return i}else for(let s of o.o||[])if(i=!!Reflect.getOwnPropertyDescriptor(t,s)!=!!Reflect.getOwnPropertyDescriptor(e,s),i)return i;for(let s of o.k||[])if(i=Wr(t[s],e[s],r,n),i)return i;return i===null&&(i=!0),i}finally{n&&n.set(t,{n:e,g:i})}};var mi=t=>hi(t)&&t[Ur]||null,Jr=(t,e=!0)=>{Gr.set(t,e)},di=(t,e,r)=>{let n=[],o=new WeakSet,i=(s,a)=>{if(o.has(s))return;Ut(s)&&o.add(s);let u=Ut(s)&&e.get(Xr(s));if(u){var l,c;if((l=u.h)==null||l.forEach(f=>{let h=`:has(${String(f)})`;n.push(a?[...a,h]:[h])}),u[vt]===!0){let f=":ownKeys";n.push(a?[...a,f]:[f])}else{var p;(p=u.o)==null||p.forEach(f=>{let h=`:hasOwn(${String(f)})`;n.push(a?[...a,h]:[h])})}(c=u.k)==null||c.forEach(f=>{r&&!("value"in(Object.getOwnPropertyDescriptor(s,f)||{}))||i(s[f],a?[...a,f]:[f])})}else a&&n.push(a)};return i(t),n};var Ie={},qr=t=>typeof t=="object"&&t!==null,Se=new WeakMap,Xt=new WeakSet,Xc=(t=Object.is,e=(l,c)=>new Proxy(l,c),r=l=>qr(l)&&!Xt.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},o=new WeakMap,i=(l,c,p=n)=>{let f=o.get(l);if(f?.[0]===c)return f[1];let h=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return Jr(h,!0),o.set(l,[c,h]),Reflect.ownKeys(l).forEach(y=>{if(Object.getOwnPropertyDescriptor(h,y))return;let A=Reflect.get(l,y),S={value:A,enumerable:!0,configurable:!0};if(Xt.has(A))Jr(A,!1);else if(A instanceof Promise)delete S.value,S.get=()=>p(A);else if(Se.has(A)){let[m,_]=Se.get(A);S.value=i(m,_(),p)}Object.defineProperty(h,y,S)}),h},s=new WeakMap,a=[1,1],u=l=>{if(!qr(l))throw new Error("object required");let c=s.get(l);if(c)return c;let p=a[0],f=new Set,h=(w,T=++a[0])=>{p!==T&&(p=T,f.forEach(E=>E(w,T)))},y=a[1],A=(w=++a[1])=>(y!==w&&!f.size&&(y=w,m.forEach(([T])=>{let E=T[1](w);E>p&&(p=E)})),p),S=w=>(T,E)=>{let k=[...T];k[1]=[w,...k[1]],h(k,E)},m=new Map,_=(w,T)=>{if((Ie.env&&Ie.env.MODE)!=="production"&&m.has(w))throw new Error("prop listener already exists");if(f.size){let E=T[3](S(w));m.set(w,[T,E])}else m.set(w,[T])},b=w=>{var T;let E=m.get(w);E&&(m.delete(w),(T=E[1])==null||T.call(E))},I=w=>(f.add(w),f.size===1&&m.forEach(([E,k],N)=>{if((Ie.env&&Ie.env.MODE)!=="production"&&k)throw new Error("remove already exists");let X=E[3](S(N));m.set(N,[E,X])}),()=>{f.delete(w),f.size===0&&m.forEach(([E,k],N)=>{k&&(k(),m.set(N,[E]))})}),D=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),x=e(D,{deleteProperty(w,T){let E=Reflect.get(w,T);b(T);let k=Reflect.deleteProperty(w,T);return k&&h(["delete",[T],E]),k},set(w,T,E,k){let N=Reflect.has(w,T),X=Reflect.get(w,T,k);if(N&&(t(X,E)||s.has(E)&&t(X,s.get(E))))return!0;b(T),qr(E)&&(E=mi(E)||E);let W=E;if(E instanceof Promise)E.then(B=>{E.status="fulfilled",E.value=B,h(["resolve",[T],B])}).catch(B=>{E.status="rejected",E.reason=B,h(["reject",[T],B])});else{!Se.has(E)&&r(E)&&(W=u(E));let B=!Xt.has(W)&&Se.get(W);B&&_(T,B)}return Reflect.set(w,T,W,k),h(["set",[T],E,X]),!0}});s.set(l,x);let M=[D,A,i,I];return Se.set(x,M),Reflect.ownKeys(l).forEach(w=>{let T=Object.getOwnPropertyDescriptor(l,w);"value"in T&&(x[w]=l[w],delete T.value,delete T.writable),Object.defineProperty(D,w,T)}),x})=>[u,Se,Xt,t,e,r,n,o,i,s,a],[Zc]=Xc();function Le(t={}){return Zc(t)}function Yr(t,e,r){let n=Se.get(t);(Ie.env&&Ie.env.MODE)!=="production"&&!n&&console.warn("Please use proxy object");let o,i=[],s=n[3],a=!1,l=s(c=>{if(i.push(c),r){e(i.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Zt(t,e){let r=Se.get(t);(Ie.env&&Ie.env.MODE)!=="production"&&!r&&console.warn("Please use proxy object");let[n,o,i]=r;return i(n,o(),e)}var K=ee(de(),1);var xi=ee(gi(),1);var wi={},{use:bi}=K.default,{useSyncExternalStore:nu}=xi.default,ou=(t,e)=>{let r=(0,K.useRef)();(0,K.useEffect)(()=>{r.current=di(t,e,!0)}),(0,K.useDebugValue)(r.current)},iu=new WeakMap;function te(t,e){let r=e?.sync,n=(0,K.useRef)(),o=(0,K.useRef)(),i=!0,s=nu((0,K.useCallback)(l=>{let c=Yr(t,l,r);return l(),c},[t,r]),()=>{let l=Zt(t,bi);try{if(!i&&n.current&&o.current&&!Wr(n.current,l,o.current,new WeakMap))return n.current}catch{}return l},()=>Zt(t,bi));i=!1;let a=new WeakMap;(0,K.useEffect)(()=>{n.current=s,o.current=a}),(wi.env&&wi.env.MODE)!=="production"&&ou(s,a);let u=(0,K.useMemo)(()=>new WeakMap,[]);return Zr(s,a,u,iu)}var Ei="./icon-compass-IR75ICXI.png";var Bp=Symbol();function _e(t){let e=Le({data:Array.from(new Set(t)),has(r){return this.data.indexOf(r)!==-1},add(r){let n=!1;return typeof r=="object"&&r!==null&&(n=this.data.indexOf(Le(r))!==-1),this.data.indexOf(r)===-1&&!n&&this.data.push(r),this},delete(r){let n=this.data.indexOf(r);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},forEach(r){this.data.forEach(n=>{r(n,n,this)})},get[Symbol.toStringTag](){return"Set"},toJSON(){return new Set(this.data)},[Symbol.iterator](){return this.data[Symbol.iterator]()},values(){return this.data.values()},keys(){return this.data.values()},entries(){return new Set(this.data).entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}async function Te(t,e={}){let r=await fetch(`https://cloud.yuanshen.site/api/${t}`,{method:"post",body:JSON.stringify(e),headers:{"content-type":"application/json",authorization:`Bearer ${v.accessToken}`}});return r.status==401?(await Ii(),Te(t,e)):(await r.json()).data}async function Si(){return(await(await fetch("https://cloud.yuanshen.site/oauth/token?scope=all&grant_type=client_credentials",{method:"post",headers:{authorization:"Basic Y2xpZW50OnNlY3JldA=="}})).json()).access_token}function au(t,e,r){return Math.max(e,Math.min(t,r))}var z={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function Ti(t,e,r){return e===0||Math.abs(e)===1/0?Math.pow(t,r*5):t*e*r/(e+r*t)}function Mi(t,e,r,n=.15){return n===0?au(t,e,r):t<e?-Ti(e-t,r-e,n)+e:t>r?+Ti(t-r,r-e,n)+r:t}function Ai(t,[e,r],[n,o]){let[[i,s],[a,u]]=t;return[Mi(e,i,s,n),Mi(r,a,u,o)]}function cu(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uu(t){var e=cu(t,"string");return typeof e=="symbol"?e:String(e)}function Z(t,e,r){return e=uu(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ki(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ki(Object(r),!0).forEach(function(n){Z(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ki(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $i={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Oi(t){return t?t[0].toUpperCase()+t.slice(1):""}var lu=["enter","leave"];function fu(t=!1,e){return t&&!lu.includes(e)}function Bi(t,e="",r=!1){let n=$i[t],o=n&&n[e]||e;return"on"+Oi(t)+Oi(o)+(fu(r,o)?"Capture":"")}var pu=["gotpointercapture","lostpointercapture"];function Vi(t){let e=t.substring(2).toLowerCase(),r=!!~e.indexOf("passive");r&&(e=e.replace("passive",""));let n=pu.includes(e)?"capturecapture":"capture",o=!!~e.indexOf(n);return o&&(e=e.replace("capture","")),{device:e,capture:o,passive:r}}function Fi(t,e=""){let r=$i[t],n=r&&r[e]||e;return t+n}function gt(t){return"touches"in t}function zi(t){return gt(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function hu(t){return Array.from(t.touches).filter(e=>{var r,n;return e.target===t.currentTarget||((r=t.currentTarget)===null||r===void 0||(n=r.contains)===null||n===void 0?void 0:n.call(r,e.target))})}function mu(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function Gi(t){return gt(t)?mu(t)[0]:t}function en(t,e){try{let r=e.clientX-t.clientX,n=e.clientY-t.clientY,o=(e.clientX+t.clientX)/2,i=(e.clientY+t.clientY)/2,s=Math.hypot(r,n);return{angle:-(Math.atan2(r,n)*180)/Math.PI,distance:s,origin:[o,i]}}catch{}return null}function Ui(t){return hu(t).map(e=>e.identifier)}function Pi(t,e){let[r,n]=Array.from(t.touches).filter(o=>e.includes(o.identifier));return en(r,n)}function Qr(t){let e=Gi(t);return gt(t)?e.identifier:e.pointerId}function Ge(t){let e=Gi(t);return[e.clientX,e.clientY]}var Li=40,Di=800;function Xi(t){let{deltaX:e,deltaY:r,deltaMode:n}=t;return n===1?(e*=Li,r*=Li):n===2&&(e*=Di,r*=Di),[e,r]}function du(t){var e,r;let{scrollX:n,scrollY:o,scrollLeft:i,scrollTop:s}=t.currentTarget;return[(e=n??i)!==null&&e!==void 0?e:0,(r=o??s)!==null&&r!==void 0?r:0]}function _u(t){let e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){let{shiftKey:r,altKey:n,metaKey:o,ctrlKey:i}=t;Object.assign(e,{shiftKey:r,altKey:n,metaKey:o,ctrlKey:i})}return e}function Wt(t,...e){return typeof t=="function"?t(...e):t}function yu(){}function Zi(...t){return t.length===0?yu:t.length===1?t[0]:function(){let e;for(let r of t)e=r.apply(this,arguments)||e;return e}}function Ci(t,e){return Object.assign({},e,t||{})}var vu=32,Jt=class{constructor(e,r,n){this.ctrl=e,this.args=r,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:e,shared:r,ingKey:n,args:o}=this;r[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=o,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){let r=this.state,n=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=e.target,r.currentTarget=e.currentTarget,r.lastOffset=n.from?Wt(n.from,r):r.offset,r.offset=r.lastOffset,r.startTime=r.timeStamp=e.timeStamp)}computeValues(e){let r=this.state;r._values=e,r.values=this.config.transform(e)}computeInitial(){let e=this.state;e._initial=e._values,e.initial=e.values}compute(e){let{state:r,config:n,shared:o}=this;r.args=this.args;let i=0;if(e&&(r.event=e,n.preventDefault&&e.cancelable&&r.event.preventDefault(),r.type=e.type,o.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,o.locked=!!document.pointerLockElement,Object.assign(o,_u(e)),o.down=o.pressed=o.buttons%2===1||o.touches>0,i=e.timeStamp-r.timeStamp,r.timeStamp=e.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){let g=r._delta.map(Math.abs);z.addTo(r._distance,g)}this.axisIntent&&this.axisIntent(e);let[s,a]=r._movement,[u,l]=n.threshold,{_step:c,values:p}=r;if(n.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(s)>=u&&p[0]),c[1]===!1&&(c[1]=Math.abs(a)>=l&&p[1])):(c[0]===!1&&(c[0]=Math.abs(s)>=u&&Math.sign(s)*u),c[1]===!1&&(c[1]=Math.abs(a)>=l&&Math.sign(a)*l)),r.intentional=c[0]!==!1||c[1]!==!1,!r.intentional)return;let f=[0,0];if(n.hasCustomTransform){let[g,x]=p;f[0]=c[0]!==!1?g-c[0]:0,f[1]=c[1]!==!1?x-c[1]:0}else f[0]=c[0]!==!1?s-c[0]:0,f[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(f);let h=r.offset,y=r._active&&!r._blocked||r.active;y&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=o[this.ingKey]=r._active,e&&(r.first&&("bounds"in n&&(r._bounds=Wt(n.bounds,r)),this.setup&&this.setup()),r.movement=f,this.computeOffset()));let[A,S]=r.offset,[[m,_],[b,I]]=r._bounds;r.overflow=[A<m?-1:A>_?1:0,S<b?-1:S>I?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;let D=r._active?n.rubberband||[0,0]:[0,0];if(r.offset=Ai(r._bounds,r.offset,D),r.delta=z.sub(r.offset,h),this.computeMovement(),y&&(!r.last||i>vu)){r.delta=z.sub(r.offset,h);let g=r.delta.map(Math.abs);z.addTo(r.distance,g),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&i>0&&(r.velocity=[g[0]/i,g[1]/i],r.timeDelta=i)}}emit(){let e=this.state,r=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;let o=this.handler(U(U(U({},r),e),{},{[this.aliasKey]:e.values}));o!==void 0&&(e.memo=o)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}};function gu([t,e],r){let n=Math.abs(t),o=Math.abs(e);if(n>o&&n>r)return"x";if(o>n&&o>r)return"y"}var De=class extends Jt{constructor(...e){super(...e),Z(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=z.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=z.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){let r=this.state,n=this.config;if(!r.axis&&e){let o=typeof n.axisThreshold=="object"?n.axisThreshold[zi(e)]:n.axisThreshold;r.axis=gu(r._movement,o)}r._blocked=(n.lockDirection||!!n.axis)&&!r.axis||!!n.axis&&n.axis!==r.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}},bu=t=>t,Ni=.15,Wi={enabled(t=!0){return t},eventOptions(t,e,r){return U(U({},r.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[Ni,Ni];case!1:return[0,0];default:return z.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return z.toVector(t)},transform(t,e,r){let n=t||r.shared.transform;return this.hasCustomTransform=!!n,n||bu},threshold(t){return z.toVector(t,0)}},wu=0,Ce=U(U({},Wi),{},{axis(t,e,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(t=wu){return t},bounds(t={}){if(typeof t=="function")return i=>Ce.bounds(t(i));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;let{left:e=-1/0,right:r=1/0,top:n=-1/0,bottom:o=1/0}=t;return[[e,r],[n,o]]}}),Ri={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]},tn=class extends De{constructor(...e){super(...e),Z(this,"ingKey","dragging")}reset(){super.reset();let e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){let e=this.state;if(e._bounds instanceof HTMLElement){let r=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),o={left:r.left-n.left+e.offset[0],right:r.right-n.right+e.offset[0],top:r.top-n.top+e.offset[1],bottom:r.bottom-n.bottom+e.offset[1]};e._bounds=Ce.bounds(o)}}cancel(){let e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){let r=this.config,n=this.state;if(e.buttons!=null&&(Array.isArray(r.pointerButtons)?!r.pointerButtons.includes(e.buttons):r.pointerButtons!==-1&&r.pointerButtons!==e.buttons))return;let o=this.ctrl.setEventIds(e);r.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(o&&o.size>1&&n._pointerActive)&&(this.start(e),this.setupPointer(e),n._pointerId=Qr(e),n._pointerActive=!0,this.computeValues(Ge(e)),this.computeInitial(),r.preventScrollAxis&&zi(e)!=="mouse"?(n._active=!1,this.setupScrollPrevention(e)):r.delay>0?(this.setupDelayTrigger(e),r.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){let r=this.state;r._active=!0,r._preventScroll=!0,r._delayed=!1,this.compute(e),this.emit()}pointerMove(e){let r=this.state,n=this.config;if(!r._pointerActive||r.type===e.type&&e.timeStamp===r.timeStamp)return;let o=Qr(e);if(r._pointerId!==void 0&&o!==r._pointerId)return;let i=Ge(e);if(document.pointerLockElement===e.target?r._delta=[e.movementX,e.movementY]:(r._delta=z.sub(i,r._values),this.computeValues(i)),z.addTo(r._movement,r._delta),this.compute(e),r._delayed&&r.intentional){this.timeoutStore.remove("dragDelay"),r.active=!1,this.startPointerDrag(e);return}if(n.preventScrollAxis&&!r._preventScroll)if(r.axis)if(r.axis===n.preventScrollAxis||n.preventScrollAxis==="xy"){r._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}let r=this.state,n=this.config;if(!r._active||!r._pointerActive)return;let o=Qr(e);if(r._pointerId!==void 0&&o!==r._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);let[i,s]=r._distance;if(r.tap=i<=n.tapsThreshold&&s<=n.tapsThreshold,r.tap&&n.filterTaps)r._force=!0;else{let[a,u]=r._delta,[l,c]=r._movement,[p,f]=n.swipe.velocity,[h,y]=n.swipe.distance,A=n.swipe.duration;if(r.elapsedTime<A){let S=Math.abs(a/r.timeDelta),m=Math.abs(u/r.timeDelta);S>p&&Math.abs(l)>h&&(r.swipe[0]=Math.sign(a)),m>f&&Math.abs(c)>y&&(r.swipe[1]=Math.sign(u))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){let r=this.config,n=r.device;if(!1)try{}catch(o){}r.pointerLock&&e.currentTarget.requestPointerLock(),r.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,xu(e);let r=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",r),this.eventStore.add(this.sharedConfig.window,"touch","cancel",r),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){let r=Ri[e.key];if(r){let n=this.state,o=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=r(this.config.keyboardDisplacement,o),n._keyboardActive=!0,z.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Ri&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){let r=this.config.device;e(r,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(r,"change",this.pointerMove.bind(this)),e(r,"end",this.pointerUp.bind(this)),e(r,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}};function xu(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}var bt=typeof window<"u"&&window.document&&window.document.createElement;function Eu(){return bt&&"ontouchstart"in window}function Hi(){return Eu()||bt&&window.navigator.maxTouchPoints>1}function Su(){return bt&&"onpointerdown"in window}function Iu(){return bt&&"exitPointerLock"in window.document}function Tu(){try{return"constructor"in GestureEvent}catch{return!1}}var re={isBrowser:bt,gesture:Tu(),touch:Hi(),touchscreen:Hi(),pointer:Su(),pointerLock:Iu()},Mu=250,Au=180,ku=.5,Ou=50,Pu=250,Lu=10,ji={mouse:0,touch:0,pen:8},Du=U(U({},Ce),{},{device(t,e,{pointer:{touch:r=!1,lock:n=!1,mouse:o=!1}={}}){return this.pointerLock=n&&re.pointerLock,re.touch&&r?"touch":this.pointerLock?"mouse":re.pointer&&!o?"pointer":re.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&t?Mu:void 0,!(!re.touchscreen||r===!1))return t||(r!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:r=!0,buttons:n=1,keys:o=!0}={}}){return this.pointerButtons=n,this.keys=o,!this.pointerLock&&this.device==="pointer"&&r},threshold(t,e,{filterTaps:r=!1,tapsThreshold:n=3,axis:o=void 0}){let i=z.toVector(t,r?n:o?1:0);return this.filterTaps=r,this.tapsThreshold=n,i},swipe({velocity:t=ku,distance:e=Ou,duration:r=Pu}={}){return{velocity:this.transform(z.toVector(t)),distance:this.transform(z.toVector(e)),duration:r}},delay(t=0){switch(t){case!0:return Au;case!1:return 0;default:return t}},axisThreshold(t){return t?U(U({},ji),t):ji},keyboardDisplacement(t=Lu){return t}});function Ji(t){let[e,r]=t.overflow,[n,o]=t._delta,[i,s]=t._direction;(e<0&&n>0&&i<0||e>0&&n<0&&i>0)&&(t._movement[0]=t._movementBound[0]),(r<0&&o>0&&s<0||r>0&&o<0&&s>0)&&(t._movement[1]=t._movementBound[1])}var Cu=30,Nu=100,rn=class extends Jt{constructor(...e){super(...e),Z(this,"ingKey","pinching"),Z(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();let e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){let{type:e,movement:r,lastOffset:n}=this.state;e==="wheel"?this.state.offset=z.add(r,n):this.state.offset=[(1+r[0])*n[0],r[1]+n[1]]}computeMovement(){let{offset:e,lastOffset:r}=this.state;this.state.movement=[e[0]/r[0],e[1]-r[1]]}axisIntent(){let e=this.state,[r,n]=e._movement;if(!e.axis){let o=Math.abs(r)*Cu-Math.abs(n);o<0?e.axis="angle":o>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){let e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);let r=this.state,n=this.ctrl.touchIds;if(r._active&&r._touchIds.every(i=>n.has(i))||n.size<2)return;this.start(e),r._touchIds=Array.from(n).slice(0,2);let o=Pi(e,r._touchIds);o&&this.pinchStart(e,o)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);let r=this.state,n=r._pointerEvents,o=this.ctrl.pointerIds;if(r._active&&Array.from(n.keys()).every(s=>o.has(s))||(n.size<2&&n.set(e.pointerId,e),r._pointerEvents.size<2))return;this.start(e);let i=en(...Array.from(n.values()));i&&this.pinchStart(e,i)}pinchStart(e,r){let n=this.state;n.origin=r.origin,this.computeValues([r.distance,r.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;let r=Pi(e,this.state._touchIds);r&&this.pinchMove(e,r)}pointerMove(e){let r=this.state._pointerEvents;if(r.has(e.pointerId)&&r.set(e.pointerId,e),!this.state._active)return;let n=en(...Array.from(r.values()));n&&this.pinchMove(e,n)}pinchMove(e,r){let n=this.state,o=n._values[1],i=r.angle-o,s=0;Math.abs(i)>270&&(s+=Math.sign(i)),this.computeValues([r.distance,r.angle-360*s]),n.origin=r.origin,n.turns=s,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(r=>!this.ctrl.touchIds.has(r))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){let r=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}r._pointerEvents.has(e.pointerId)&&r._pointerEvents.delete(e.pointerId),r._active&&r._pointerEvents.size<2&&(r._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();let r=this.state;r._active||(this.start(e),this.computeValues([e.scale,e.rotation]),r.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;let r=this.state;this.computeValues([e.scale,e.rotation]),r.origin=[e.clientX,e.clientY];let n=r._movement;r._movement=[e.scale-1,e.rotation],r._delta=z.sub(r._movement,n),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){let r=this.config.modifierKey;r&&!e[r]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();let n=this.state;n._delta=[-Xi(e)[1]/Nu*n.offset[0],0],z.addTo(n._movement,n._delta),Ji(n),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){let r=this.config.device;r&&(e(r,"start",this[r+"Start"].bind(this)),e(r,"change",this[r+"Move"].bind(this)),e(r,"end",this[r+"End"].bind(this)),e(r,"cancel",this[r+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}},Ru=U(U({},Wi),{},{device(t,e,{shared:r,pointer:{touch:n=!1}={}}){if(r.target&&!re.touch&&re.gesture)return"gesture";if(re.touch&&n)return"touch";if(re.touchscreen){if(re.pointer)return"pointer";if(re.touch)return"touch"}},bounds(t,e,{scaleBounds:r={},angleBounds:n={}}){let o=s=>{let a=Ci(Wt(r,s),{min:-1/0,max:1/0});return[a.min,a.max]},i=s=>{let a=Ci(Wt(n,s),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof r!="function"&&typeof n!="function"?[o(),i()]:s=>[o(s),i(s)]},threshold(t,e,r){return this.lockDirection=r.axis==="lock",z.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}}),nn=class extends De{constructor(...e){super(...e),Z(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(Ge(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;let r=Ge(e),n=this.state;n._delta=z.sub(r,n._values),z.addTo(n._movement,n._delta),this.computeValues(r),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}},Hu=U(U({},Ce),{},{mouseOnly:(t=!0)=>t}),on=class extends De{constructor(...e){super(...e),Z(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();let r=this.state,n=du(e);r._delta=z.sub(n,r._values),z.addTo(r._movement,r._delta),this.computeValues(n),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}},ju=Ce,sn=class extends De{constructor(...e){super(...e),Z(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){let r=this.state;r._delta=Xi(e),z.addTo(r._movement,r._delta),Ji(r),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}},$u=Ce,an=class extends De{constructor(...e){super(...e),Z(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(Ge(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;let r=this.state;if(!r._active)return;r._active=!1;let n=Ge(e);r._movement=r._delta=z.sub(n,r._values),this.computeValues(n),this.compute(e),r.delta=r.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}},Bu=U(U({},Ce),{},{mouseOnly:(t=!0)=>t}),wt=new Map,xt=new Map;function cn(t){wt.set(t.key,t.engine),xt.set(t.key,t.resolver)}var un={key:"drag",engine:tn,resolver:Du},ln={key:"hover",engine:an,resolver:Bu},fn={key:"move",engine:nn,resolver:Hu},pn={key:"pinch",engine:rn,resolver:Ru},hn={key:"scroll",engine:on,resolver:ju},mn={key:"wheel",engine:sn,resolver:$u};function Vu(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}function Fu(t,e){if(t==null)return{};var r=Vu(t,e),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var zu={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=re.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},Gu=["target","eventOptions","window","enabled","transform"];function qt(t={},e){let r={};for(let[n,o]of Object.entries(e))switch(typeof o){case"function":r[n]=o.call(r,t[n],n,t);break;case"object":r[n]=qt(t[n],o);break;case"boolean":o&&(r[n]=t[n]);break}return r}function Uu(t,e,r={}){let n=t,{target:o,eventOptions:i,window:s,enabled:a,transform:u}=n,l=Fu(n,Gu);if(r.shared=qt({target:o,eventOptions:i,window:s,enabled:a,transform:u},zu),e){let c=xt.get(e);r[e]=qt(U({shared:r.shared},l),c)}else for(let c in l){let p=xt.get(c);p&&(r[c]=qt(U({shared:r.shared},l[c]),p))}return r}var Yt=class{constructor(e,r){Z(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=r}add(e,r,n,o,i){let s=this._listeners,a=Fi(r,n),u=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},l=U(U({},u),i);e.addEventListener(a,o,l);let c=()=>{e.removeEventListener(a,o,l),s.delete(c)};return s.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}},dn=class{constructor(){Z(this,"_timeouts",new Map)}add(e,r,n=140,...o){this.remove(e),this._timeouts.set(e,window.setTimeout(r,n,...o))}remove(e){let r=this._timeouts.get(e);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}},Kt=class{constructor(e){Z(this,"gestures",new Set),Z(this,"_targetEventStore",new Yt(this)),Z(this,"gestureEventStores",{}),Z(this,"gestureTimeoutStores",{}),Z(this,"handlers",{}),Z(this,"config",{}),Z(this,"pointerIds",new Set),Z(this,"touchIds",new Set),Z(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Xu(this,e)}setEventIds(e){if(gt(e))return this.touchIds=new Set(Ui(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,r){this.handlers=e,this.nativeHandlers=r}applyConfig(e,r){this.config=Uu(e,r,this.config)}clean(){this._targetEventStore.clean();for(let e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){let r=this.config.shared,n={},o;if(!(r.target&&(o=r.target(),!o))){if(r.enabled){for(let s of this.gestures){let a=this.config[s],u=qi(n,a.eventOptions,!!o);if(a.enabled){let l=wt.get(s);new l(this,e,s).bind(u)}}let i=qi(n,r.eventOptions,!!o);for(let s in this.nativeHandlers)i(s,"",a=>this.nativeHandlers[s](U(U({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(let i in n)n[i]=Zi(...n[i]);if(!o)return n;for(let i in n){let{device:s,capture:a,passive:u}=Vi(i);this._targetEventStore.add(o,s,"",n[i],{capture:a,passive:u})}}}};function Ue(t,e){t.gestures.add(e),t.gestureEventStores[e]=new Yt(t,e),t.gestureTimeoutStores[e]=new dn}function Xu(t,e){e.drag&&Ue(t,"drag"),e.wheel&&Ue(t,"wheel"),e.scroll&&Ue(t,"scroll"),e.move&&Ue(t,"move"),e.pinch&&Ue(t,"pinch"),e.hover&&Ue(t,"hover")}var qi=(t,e,r)=>(n,o,i,s={},a=!1)=>{var u,l;let c=(u=s.capture)!==null&&u!==void 0?u:e.capture,p=(l=s.passive)!==null&&l!==void 0?l:e.passive,f=a?n:Bi(n,o,c);r&&p&&(f+="Passive"),t[f]=t[f]||[],t[f].push(i)},Zu=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Wu(t){let e={},r={},n=new Set;for(let o in t)Zu.test(o)?(n.add(RegExp.lastMatch),r[o]=t[o]):e[o]=t[o];return[r,e,n]}function Xe(t,e,r,n,o,i){if(!t.has(r)||!wt.has(n))return;let s=r+"Start",a=r+"End",u=l=>{let c;return l.first&&s in e&&e[s](l),r in e&&(c=e[r](l)),l.last&&a in e&&e[a](l),c};o[n]=u,i[n]=i[n]||{}}function Yi(t,e){let[r,n,o]=Wu(t),i={};return Xe(o,r,"onDrag","drag",i,e),Xe(o,r,"onWheel","wheel",i,e),Xe(o,r,"onScroll","scroll",i,e),Xe(o,r,"onPinch","pinch",i,e),Xe(o,r,"onMove","move",i,e),Xe(o,r,"onHover","hover",i,e),{handlers:i,config:e,nativeHandlers:n}}function Ju(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qu(t){var e=Ju(t,"string");return typeof e=="symbol"?e:String(e)}function Yu(t,e,r){return e=qu(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ki(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ki(Object(r),!0).forEach(function(n){Yu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ki(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _n=class{constructor(e,r,n,o,i){this._target=e,this._gestureKey=o,this._ctrl=new Kt(r),this._ctrl.applyHandlers(r,i),this._ctrl.applyConfig(Qt(Qt({},n),{},{target:e}),o),this._ctrl.effect()}destroy(){this._ctrl.clean()}setConfig(e){this._ctrl.clean(),this._ctrl.applyConfig(Qt(Qt({},e),{},{target:this._target}),this._gestureKey),this._ctrl.effect()}};function Ku(t){return t.forEach(cn),function(e,r,n){let{handlers:o,nativeHandlers:i,config:s}=Yi(r,n||{});return new _n(e,o,s,void 0,i)}}var Qi=function(e,r,n){return Ku([un,pn,hn,mn,fn,ln])(e,r,n||{})};function er(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}var tr=function(){},Ze=function(){};var Et=(t,e,r)=>Math.min(Math.max(r,t),e);var yn=.001,Qu=.01,es=10,el=.05,tl=1;function ts({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let o,i;tr(t<=es*1e3,"Spring duration must be 10 seconds or less");let s=1-e;s=Et(el,tl,s),t=Et(Qu,es,t/1e3),s<1?(o=l=>{let c=l*s,p=c*t,f=c-r,h=rr(l,s),y=Math.exp(-p);return yn-f/h*y},i=l=>{let p=l*s*t,f=p*r+r,h=Math.pow(s,2)*Math.pow(l,2)*t,y=Math.exp(-p),A=rr(Math.pow(l,2),s);return(-o(l)+yn>0?-1:1)*((f-h)*y)/A}):(o=l=>{let c=Math.exp(-l*t),p=(l-r)*t+1;return-yn+c*p},i=l=>{let c=Math.exp(-l*t),p=(r-l)*(t*t);return c*p});let a=5/t,u=nl(o,i,a);if(t=t*1e3,isNaN(u))return{stiffness:100,damping:10,duration:t};{let l=Math.pow(u,2)*n;return{stiffness:l,damping:s*2*Math.sqrt(n*l),duration:t}}}var rl=12;function nl(t,e,r){let n=r;for(let o=1;o<rl;o++)n=n-t(n)/e(n);return n}function rr(t,e){return t*Math.sqrt(1-e*e)}var ol=["duration","bounce"],il=["stiffness","damping","mass"];function rs(t,e){return e.some(r=>t[r]!==void 0)}function sl(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!rs(t,il)&&rs(t,ol)){let r=ts(t);e=Object.assign(Object.assign(Object.assign({},e),r),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function nr(t){var{from:e=0,to:r=1,restSpeed:n=2,restDelta:o}=t,i=er(t,["from","to","restSpeed","restDelta"]);let s={done:!1,value:e},{stiffness:a,damping:u,mass:l,velocity:c,duration:p,isResolvedFromDuration:f}=sl(i),h=ns,y=ns;function A(){let S=c?-(c/1e3):0,m=r-e,_=u/(2*Math.sqrt(a*l)),b=Math.sqrt(a/l)/1e3;if(o===void 0&&(o=Math.min(Math.abs(r-e)/100,.4)),_<1){let I=rr(b,_);h=D=>{let g=Math.exp(-_*b*D);return r-g*((S+_*b*m)/I*Math.sin(I*D)+m*Math.cos(I*D))},y=D=>{let g=Math.exp(-_*b*D);return _*b*g*(Math.sin(I*D)*(S+_*b*m)/I+m*Math.cos(I*D))-g*(Math.cos(I*D)*(S+_*b*m)-I*m*Math.sin(I*D))}}else if(_===1)h=I=>r-Math.exp(-b*I)*(m+(S+b*m)*I);else{let I=b*Math.sqrt(_*_-1);h=D=>{let g=Math.exp(-_*b*D),x=Math.min(I*D,300);return r-g*((S+_*b*m)*Math.sinh(x)+I*m*Math.cosh(x))/I}}}return A(),{next:S=>{let m=h(S);if(f)s.done=S>=p;else{let _=y(S)*1e3,b=Math.abs(_)<=n,I=Math.abs(r-m)<=o;s.done=b&&I}return s.value=s.done?r:m,s},flipTarget:()=>{c=-c,[e,r]=[r,e],A()}}}nr.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";var ns=t=>0;var vn=(t,e,r)=>{let n=e-t;return n===0?1:(r-t)/n};var We=(t,e,r)=>-r*t+r*e+t;var or=(t,e)=>r=>Math.max(Math.min(r,e),t),Me=t=>t%1?Number(t.toFixed(5)):t,Je=/(-)?([\d]*\.?[\d])+/g,ir=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,os=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ye(t){return typeof t=="string"}var qe={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sr=Object.assign(Object.assign({},qe),{transform:or(0,1)}),yh=Object.assign(Object.assign({},qe),{default:1});var St=t=>({test:e=>ye(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bh=St("deg"),Ye=St("%"),wh=St("px"),xh=St("vh"),Eh=St("vw"),Sh=Object.assign(Object.assign({},Ye),{parse:t=>Ye.parse(t)/100,transform:t=>Ye.transform(t*100)});var Ke=(t,e)=>r=>!!(ye(r)&&os.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),ar=(t,e,r)=>n=>{if(!ye(n))return n;let[o,i,s,a]=n.match(Je);return{[t]:parseFloat(o),[e]:parseFloat(i),[r]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}};var ce={test:Ke("hsl","hue"),parse:ar("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Ye.transform(Me(e))+", "+Ye.transform(Me(r))+", "+Me(sr.transform(n))+")"};var al=or(0,255),cr=Object.assign(Object.assign({},qe),{transform:t=>Math.round(al(t))}),oe={test:Ke("rgb","red"),parse:ar("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+cr.transform(t)+", "+cr.transform(e)+", "+cr.transform(r)+", "+Me(sr.transform(n))+")"};function cl(t){let e="",r="",n="",o="";return t.length>5?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2),o=t.substr(7,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),o=t.substr(4,1),e+=e,r+=r,n+=n,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}var Qe={test:Ke("#"),parse:cl,transform:oe.transform};var Ae={test:t=>oe.test(t)||Qe.test(t)||ce.test(t),parse:t=>oe.test(t)?oe.parse(t):ce.test(t)?ce.parse(t):Qe.parse(t),transform:t=>ye(t)?t:t.hasOwnProperty("red")?oe.transform(t):ce.transform(t)};var is="${c}",ss="${n}";function ul(t){var e,r,n,o;return isNaN(t)&&ye(t)&&((r=(e=t.match(Je))===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0)+((o=(n=t.match(ir))===null||n===void 0?void 0:n.length)!==null&&o!==void 0?o:0)>0}function as(t){typeof t=="number"&&(t=`${t}`);let e=[],r=0,n=t.match(ir);n&&(r=n.length,t=t.replace(ir,is),e.push(...n.map(Ae.parse)));let o=t.match(Je);return o&&(t=t.replace(Je,ss),e.push(...o.map(qe.parse))),{values:e,numColors:r,tokenised:t}}function cs(t){return as(t).values}function us(t){let{values:e,numColors:r,tokenised:n}=as(t),o=e.length;return i=>{let s=n;for(let a=0;a<o;a++)s=s.replace(a<r?is:ss,a<r?Ae.transform(i[a]):Me(i[a]));return s}}var ll=t=>typeof t=="number"?0:t;function fl(t){let e=cs(t);return us(t)(e.map(ll))}var ur={test:ul,parse:cs,createTransformer:us,getAnimatableNone:fl};function gn(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function bn({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let o=0,i=0,s=0;if(!e)o=i=s=r;else{let a=r<.5?r*(1+e):r+e-r*e,u=2*r-a;o=gn(u,a,t+1/3),i=gn(u,a,t),s=gn(u,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}var pl=(t,e,r)=>{let n=t*t,o=e*e;return Math.sqrt(Math.max(0,r*(o-n)+n))},hl=[Qe,oe,ce],ls=t=>hl.find(e=>e.test(t)),fs=t=>`'${t}' is not an animatable color. Use the equivalent color code instead.`,lr=(t,e)=>{let r=ls(t),n=ls(e);Ze(!!r,fs(t)),Ze(!!n,fs(e));let o=r.parse(t),i=n.parse(e);r===ce&&(o=bn(o),r=oe),n===ce&&(i=bn(i),n=oe);let s=Object.assign({},o);return a=>{for(let u in s)u!=="alpha"&&(s[u]=pl(o[u],i[u],a));return s.alpha=We(o.alpha,i.alpha,a),r.transform(s)}};var ps=t=>typeof t=="number";var ml=(t,e)=>r=>e(t(r)),fr=(...t)=>t.reduce(ml);function ms(t,e){return ps(t)?r=>We(t,e,r):Ae.test(t)?lr(t,e):xn(t,e)}var wn=(t,e)=>{let r=[...t],n=r.length,o=t.map((i,s)=>ms(i,e[s]));return i=>{for(let s=0;s<n;s++)r[s]=o[s](i);return r}},ds=(t,e)=>{let r=Object.assign(Object.assign({},t),e),n={};for(let o in r)t[o]!==void 0&&e[o]!==void 0&&(n[o]=ms(t[o],e[o]));return o=>{for(let i in n)r[i]=n[i](o);return r}};function hs(t){let e=ur.parse(t),r=e.length,n=0,o=0,i=0;for(let s=0;s<r;s++)n||typeof e[s]=="number"?n++:e[s].hue!==void 0?i++:o++;return{parsed:e,numNumbers:n,numRGB:o,numHSL:i}}var xn=(t,e)=>{let r=ur.createTransformer(e),n=hs(t),o=hs(e);return n.numHSL===o.numHSL&&n.numRGB===o.numRGB&&n.numNumbers>=o.numNumbers?fr(wn(n.parsed,o.parsed),r):(tr(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),s=>`${s>0?e:t}`)};var dl=(t,e)=>r=>We(t,e,r);function _l(t){if(typeof t=="number")return dl;if(typeof t=="string")return Ae.test(t)?lr:xn;if(Array.isArray(t))return wn;if(typeof t=="object")return ds}function yl(t,e,r){let n=[],o=r||_l(t[0]),i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){let u=Array.isArray(e)?e[s]:e;a=fr(u,a)}n.push(a)}return n}function vl([t,e],[r]){return n=>r(vn(t,e,n))}function gl(t,e){let r=t.length,n=r-1;return o=>{let i=0,s=!1;if(o<=t[0]?s=!0:o>=t[n]&&(i=n-1,s=!0),!s){let u=1;for(;u<r&&!(t[u]>o||u===n);u++);i=u-1}let a=vn(t[i],t[i+1],o);return e[i](a)}}function pr(t,e,{clamp:r=!0,ease:n,mixer:o}={}){let i=t.length;Ze(i===e.length,"Both input and output ranges must be the same length"),Ze(!n||!Array.isArray(n)||n.length===i-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),t[0]>t[i-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());let s=yl(e,n,o),a=i===2?vl(t,s):gl(t,s);return r?u=>a(Et(t[0],t[i-1],u)):a}var It=t=>e=>1-t(1-e),hr=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_s=t=>e=>Math.pow(e,t),En=t=>e=>e*e*((t+1)*e-t),ys=t=>{let e=En(t);return r=>(r*=2)<1?.5*e(r):.5*(2-Math.pow(2,-10*(r-1)))};var vs=1.525,bl=4/11,wl=8/11,xl=9/10;var gs=_s(2),Mm=It(gs),bs=hr(gs),El=t=>1-Math.sin(Math.acos(t)),Sl=It(El),Am=hr(Sl),ws=En(vs),km=It(ws),Om=hr(ws),Pm=ys(vs),Il=4356/361,Tl=35442/1805,Ml=16061/1805,Al=t=>{if(t===1||t===0)return t;let e=t*t;return t<bl?7.5625*e:t<wl?9.075*e-9.9*t+3.4:t<xl?Il*e-Tl*t+Ml:10.8*t*t-20.52*t+10.72},Lm=It(Al);function kl(t,e){return t.map(()=>e||bs).splice(0,t.length-1)}function Ol(t){let e=t.length;return t.map((r,n)=>n!==0?n/(e-1):0)}function Pl(t,e){return t.map(r=>r*e)}function Tt({from:t=0,to:e=1,ease:r,offset:n,duration:o=300}){let i={done:!1,value:t},s=Array.isArray(e)?e:[t,e],a=Pl(n&&n.length===s.length?n:Ol(s),o);function u(){return pr(a,s,{ease:Array.isArray(r)?r:kl(s,r)})}let l=u();return{next:c=>(i.value=l(c),i.done=c>=o,i),flipTarget:()=>{s.reverse(),l=u()}}}function xs({velocity:t=0,from:e=0,power:r=.8,timeConstant:n=350,restDelta:o=.5,modifyTarget:i}){let s={done:!1,value:e},a=r*t,u=e+a,l=i===void 0?u:i(u);return l!==u&&(a=l-e),{next:c=>{let p=-a*Math.exp(-c/n);return s.done=!(p>o||p<-o),s.value=s.done?l:l+p,s},flipTarget:()=>{}}}var Es={keyframes:Tt,spring:nr,decay:xs};function Ss(t){if(Array.isArray(t.to))return Tt;if(Es[t.type])return Es[t.type];let e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Tt:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?nr:Tt}var Sn=16.666666666666668,Ll=typeof performance<"u"?()=>performance.now():()=>Date.now(),In=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(Ll()),Sn);function Is(t){let e=[],r=[],n=0,o=!1,i=!1,s=new WeakSet,a={schedule:(u,l=!1,c=!1)=>{let p=c&&o,f=p?e:r;return l&&s.add(u),f.indexOf(u)===-1&&(f.push(u),p&&o&&(n=e.length)),u},cancel:u=>{let l=r.indexOf(u);l!==-1&&r.splice(l,1),s.delete(u)},process:u=>{if(o){i=!0;return}if(o=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let l=0;l<n;l++){let c=e[l];c(u),s.has(c)&&(a.schedule(c),t())}o=!1,i&&(i=!1,a.process(u))}};return a}var Dl=40,Tn=!0,Mt=!1,Mn=!1,et={delta:0,timestamp:0},At=["read","update","preRender","render","postRender"],mr=At.reduce((t,e)=>(t[e]=Is(()=>Mt=!0),t),{}),Cl=At.reduce((t,e)=>{let r=mr[e];return t[e]=(n,o=!1,i=!1)=>(Mt||Rl(),r.schedule(n,o,i)),t},{}),Ts=At.reduce((t,e)=>(t[e]=mr[e].cancel,t),{}),Xm=At.reduce((t,e)=>(t[e]=()=>mr[e].process(et),t),{}),Nl=t=>mr[t].process(et),Ms=t=>{Mt=!1,et.delta=Tn?Sn:Math.max(Math.min(t-et.timestamp,Dl),1),et.timestamp=t,Mn=!0,At.forEach(Nl),Mn=!1,Mt&&(Tn=!1,In(Ms))},Rl=()=>{Mt=!0,Tn=!0,Mn||In(Ms)},As=()=>et,ks=Cl;function An(t,e,r=0){return t-e-r}function Os(t,e,r=0,n=!0){return n?An(e+-t,e,r):e-(t-e)+r}function Ps(t,e,r,n){return n?t>=e+r:t<=-r}var Hl=t=>{let e=({delta:r})=>t(r);return{start:()=>ks.update(e,!0),stop:()=>Ts.update(e)}};function Ls(t){var e,r,{from:n,autoplay:o=!0,driver:i=Hl,elapsed:s=0,repeat:a=0,repeatType:u="loop",repeatDelay:l=0,onPlay:c,onStop:p,onComplete:f,onRepeat:h,onUpdate:y}=t,A=er(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:S}=A,m,_=0,b=A.duration,I,D=!1,g=!0,x,M=Ss(A);!((r=(e=M).needsInterpolation)===null||r===void 0)&&r.call(e,n,S)&&(x=pr([0,100],[n,S],{clamp:!1}),n=0,S=100);let w=M(Object.assign(Object.assign({},A),{from:n,to:S}));function T(){_++,u==="reverse"?(g=_%2===0,s=Os(s,b,l,g)):(s=An(s,b,l),u==="mirror"&&w.flipTarget()),D=!1,h&&h()}function E(){m.stop(),f&&f()}function k(X){if(g||(X=-X),s+=X,!D){let W=w.next(Math.max(0,s));I=W.value,x&&(I=x(I)),D=g?W.done:s<=0}y?.(I),D&&(_===0&&(b??(b=s)),_<a?Ps(s,b,l,g)&&T():E())}function N(){c?.(),m=i(k),m.start()}return o&&N(),{stop:()=>{p?.(),m.stop()}}}function Ds(t,e){return e?t*(1e3/e):0}function ve({from:t=0,velocity:e=0,min:r,max:n,power:o=.8,timeConstant:i=750,bounceStiffness:s=500,bounceDamping:a=10,restDelta:u=1,modifyTarget:l,driver:c,onUpdate:p,onComplete:f,onStop:h}){let y;function A(b){return r!==void 0&&b<r||n!==void 0&&b>n}function S(b){return r===void 0?n:n===void 0||Math.abs(r-b)<Math.abs(n-b)?r:n}function m(b){y?.stop(),y=Ls(Object.assign(Object.assign({},b),{driver:c,onUpdate:I=>{var D;p?.(I),(D=b.onUpdate)===null||D===void 0||D.call(b,I)},onComplete:f,onStop:h}))}function _(b){m(Object.assign({type:"spring",stiffness:s,damping:a,restDelta:u},b))}if(A(t))_({from:t,velocity:e,to:S(t)});else{let b=o*e+t;typeof l<"u"&&(b=l(b));let I=S(b),D=I===r?-1:1,g,x,M=w=>{g=x,x=w,e=Ds(w-g,As().delta),(D===1&&w>I||D===-1&&w<I)&&_({from:w,to:I,velocity:e})};m({type:"decay",from:t,velocity:e,timeConstant:i,power:o,restDelta:u,modifyTarget:l,onUpdate:A(b)?M:void 0})}return{stop:()=>y?.stop()}}var kt=class{constructor(e=3){this.count=0;this.length=0;this.data=[];this.length=e}add(e){this.data[this.count%this.length]=e,this.count+=1}clear(){this.data=Array(length)}get value(){let e=this.data.filter(r=>r!=null);return e.length==0?0:e.reduce((r,n)=>r+n,0)/e.length}},dr=class{constructor(e){this.initialScale=0;this.lastPinchTime=0;this.lastWheelTime=0;this.lastClickTime=0;this.lastDragTime=0;this.scaleAnimation=ve({});this.offsetAnimation=[ve({}),ve({})];this.velocity=[new kt,new kt];this.velocityScale=new kt;this.map=e,new Qi(this.map.element,{onWheel:this.onWheel.bind(this),onPinchStart:()=>this.initialScale=this.map.scale,onPinch:this.onPinch.bind(this),onPinchEnd:this.onPinchEnd.bind(this),onDragStart:this.onDragStart.bind(this),onDrag:this.onDrag.bind(this),onDragEnd:this.onDragEnd.bind(this),onClick:this.onClick.bind(this)})}onWheel({direction:e,event:r,delta:n,timeStamp:o}){if(o==this.lastWheelTime)return;this.offsetAnimation[0]?.stop(),this.offsetAnimation[1]?.stop(),this.scaleAnimation?.stop(),this.lastWheelTime=o;let i=this.map.scale;this.scaleAnimation=ve({velocity:Math.log2(1+Math.abs(n[1])/200)/2,power:2,timeConstant:50,restDelta:.001,onUpdate:s=>{let a=Math.log2(i)-e[1]*s;this.scaleTo(2**a,[r.x,r.y])}})}onPinch(e){let{origin:r,da:n,initial:o,touches:i,timeStamp:s}=e;if(i!=2)return;this.lastPinchTime=s;let a=n[0]/o[0]*this.initialScale;this.velocityScale.add(a-this.map.scale),this.scaleTo(a,r)}onPinchEnd({origin:e}){let n=this.velocityScale.value>0?-1:1;this.initialScale=this.map.scale;let o=Math.log10(1+Math.abs(this.velocityScale.value))*50;this.scaleAnimation?.stop(),this.scaleAnimation=ve({velocity:o,timeConstant:50,restDelta:.001,onUpdate:i=>{let s=Math.log2(this.initialScale)-n*i;this.scaleTo(2**s,e)}})}onDragStart(){this.offsetAnimation[0]?.stop(),this.offsetAnimation[1]?.stop(),this.scaleAnimation?.stop(),this.velocity[0].clear(),this.velocity[1].clear()}onDrag(e){let{pinching:r,wheeling:n,timeStamp:o,velocity:i,delta:s}=e;r||n||o-this.lastPinchTime<200||(this.velocity[0].add(i[0]),this.velocity[1].add(i[1]),this.setOffset([this.map.offset[0]+s[0],this.map.offset[1]+s[1]]))}async onDragEnd(e){let{direction:r,timeStamp:n,distance:o}=e;if(n-this.lastPinchTime<200)return;let i=[...this.map.offset],s=[this.velocity[0].value,this.velocity[1].value],a=Math.sqrt(s[0]**2+s[1]**2);a!=0&&(this.offsetAnimation[0]=ve({velocity:a,power:200,timeConstant:200,onUpdate:u=>{this.setOffset([i[0]+r[0]*u*(s[0]/a),i[1]+r[1]*u*(s[1]/a)])}})),(o[0]>2||o[1]>2)&&(this.lastDragTime=n)}onClick({event:e}){if(e.timeStamp==this.lastDragTime)return;let r=200;if(e.timeStamp-this.lastClickTime<r){let n=this.map.scale;this.scaleAnimation?.stop(),this.scaleAnimation=ve({velocity:1,power:1,timeConstant:100,restDelta:.001,onUpdate:o=>{let i=Math.log2(n)+o;this.scaleTo(2**i,[e.x,e.y])}})}else setTimeout(()=>{e.timeStamp==this.lastClickTime&&this.onClickTilemap([e.x,e.y])},r);this.lastClickTime=e.timeStamp}onClickTilemap(e){let r=this.map.findMarker(e);if(r){r?.[0].options.onClick?.(r[1]),this.map.options.onClick?.({target:r[0],index:r[1]});return}this.map.options.onClick?.()}limitScale(e){let{minZoom:r,options:n}=this.map,o=Math.log2(e);return o=Math.max(Math.min(o,n.maxZoom),r),2**o}scaleTo(e,r){let{offset:n,scale:o}=this.map;e=this.limitScale(e);let i=(e-o)/o;this.map.scale=e,this.setOffset([n[0]-(r[0]-n[0])*i,n[1]-(r[1]-n[1])*i])}setOffset(e){let{size:r,options:n,offset:o,scale:i}=this.map,s=[r[0]-n.size[0]*i,r[1]-n.size[1]*i];o[0]=Math.min(Math.max(e[0],s[0]),0),o[1]=Math.min(Math.max(e[1],s[1]),0),this.map.draw(),this.map.options.onMove?.()}};var ue=class{},_r=class{constructor(e){this.offset=[0,0];this.scale=0;this.minZoom=0;this.size=[0,0];this.tileLayers=new Set;this.markerLayers=new Set;this.domLayers=new Set;this.imageLayers=new Set;this.lastDrawTime=0;this.options={...e,tileOffset:e.tileOffset??[0,0],maxZoom:e.maxZoom??0},typeof e.element=="string"?this.element=document.querySelector(e.element):this.element=e.element,this.element.style.touchAction="none",this.canvas=document.createElement("canvas"),this.element.appendChild(this.canvas),this.canvas2d=this.canvas.getContext("2d"),this.gesture=new dr(this),new ResizeObserver(([n])=>{let{width:o,height:i}=n.contentRect;setTimeout(()=>this.resize(o,i),0)}).observe(this.element),this.element.addEventListener("mousemove",({clientX:n,clientY:o})=>{let i=this.findMarker([n,o]);if(i){i?.[0].options.onMouseMove?.(i[1]),this.options.onMouseMove?.({target:i[0],index:i[1]});return}this.options.onMouseMove?.()}),this.domLayers.clear=new Proxy(this.domLayers.clear,{apply:(n,o)=>{for(let i of o.values())this.element.removeChild(i.element);return n.apply(o)}}),this.domLayers.delete=new Proxy(this.domLayers.delete,{apply:(n,o,i)=>(this.element.removeChild(i[0].element),n.apply(o,i))}),this.domLayers.add=new Proxy(this.domLayers.add,{apply:(n,o,i)=>(this.element.appendChild(i[0].element),this.draw(),n.apply(o,i))})}findMarker(e){let r=Array.from(this.markerLayers).reverse();for(let n of r.filter(o=>o.options.clickable)){let{image:o,items:i,anchor:s}=n.options,a=[o.width,o.height];a[0]/=devicePixelRatio,a[1]/=devicePixelRatio;for(let u=i.length-1;u>=0;u-=1){let[l,c]=this.toCanvasPositionWithOffset([i[u].x,i[u].y]),p=[a[0]*s[0],a[1]*s[1]];if(e[0]>l-p[0]&&e[0]<l+(a[0]-p[0])&&e[1]>c-p[1]&&e[1]<c+(a[0]-p[0]))return[n,u]}}}toCanvasPositionWithOffset(e){let{offset:r}=this,[n,o]=this.toCanvasPosition(e);return[n+r[0],o+r[1]]}toCanvasPosition([e,r]){let[n,o]=this.mapPointOffset;return[(e+n)*this.scale,(r+o)*this.scale]}overlaps(e,r){return e[0]+r[0]>-this.offset[0]&&e[0]<this.size[0]-this.offset[0]&&e[1]+r[1]>-this.offset[1]&&e[1]<this.size[1]-this.offset[1]}get mapPointOffset(){let{origin:e,tileOffset:r}=this.options;return[e[0]-r[0],e[1]-r[1]]}resize(e,r){this.canvas.width=e*devicePixelRatio,this.canvas.height=r*devicePixelRatio,this.canvas.style.width=`${e}px`,this.canvas.style.height=`${r}px`,this.size=[e,r];let n=Math.max(this.size[0]/this.options.size[0],this.size[1]/this.options.size[1]),o=Math.log2(n);this.scale?this.minZoom!=o?(this.minZoom=o,this.gesture.scaleTo(this.scale,[this.size[0]/2,this.size[1]/2])):this.draw():(this.minZoom=o,this.scale=this.gesture.limitScale(n),this.draw())}draw(){let e=Date.now();e!=this.lastDrawTime&&(requestAnimationFrame(()=>{let{canvas2d:r,canvas:n,offset:o}=this;r.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0),r.clearRect(0,0,n.width,n.height),r.translate(o[0],o[1]);for(let i of this.tileLayers)i.draw();for(let i of this.imageLayers)i.draw();for(let i of this.markerLayers)i.draw();for(let i of this.domLayers)i.draw()}),this.lastDrawTime=e)}};function ge(t){return Math.ceil(parseFloat(t.toFixed(3)))}function jl(t){return function(...e){var r=e.pop();return t.call(this,e,r)}}var $l=typeof queueMicrotask=="function"&&queueMicrotask,Bs=typeof setImmediate=="function"&&setImmediate,Vs=typeof process=="object"&&typeof process.nextTick=="function";function Fs(t){setTimeout(t,0)}function zs(t){return(e,...r)=>t(()=>e(...r))}var Ot;$l?Ot=queueMicrotask:Bs?Ot=setImmediate:Vs?Ot=process.nextTick:Ot=Fs;var Pt=zs(Ot);function Bl(t){return Pn(t)?function(...e){let r=e.pop(),n=t.apply(this,e);return Cs(n,r)}:jl(function(e,r){var n;try{n=t.apply(this,e)}catch(o){return r(o)}if(n&&typeof n.then=="function")return Cs(n,r);r(null,n)})}function Cs(t,e){return t.then(r=>{Ns(e,null,r)},r=>{Ns(e,r&&r.message?r:new Error(r))})}function Ns(t,e,r){try{t(e,r)}catch(n){Pt(o=>{throw o},n)}}function Pn(t){return t[Symbol.toStringTag]==="AsyncFunction"}function Vl(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function Fl(t){return typeof t[Symbol.asyncIterator]=="function"}function G(t){if(typeof t!="function")throw new Error("expected a function");return Pn(t)?Bl(t):t}function R(t,e=t.length){if(!e)throw new Error("arity is undefined");function r(...n){return typeof n[e-1]=="function"?t.apply(this,n):new Promise((o,i)=>{n[e-1]=(s,...a)=>{if(s)return i(s);o(a.length>1?a:a[0])},t.apply(this,n)})}return r}function Gs(t){return function(r,...n){return R(function(i){var s=this;return t(r,(a,u)=>{G(a).apply(s,n.concat(u))},i)})}}function Ln(t,e,r,n){e=e||[];var o=[],i=0,s=G(r);return t(e,(a,u,l)=>{var c=i++;s(a,(p,f)=>{o[c]=f,l(p)})},a=>{n(a,o)})}function vr(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}var gr={};function tt(t){function e(...r){if(t!==null){var n=t;t=null,n.apply(this,r)}}return Object.assign(e,t),e}function zl(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}function Gl(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}function Ul(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function Xl(t){var e=t?Object.keys(t):[],r=-1,n=e.length;return function o(){var i=e[++r];return i==="__proto__"?o():r<n?{value:t[i],key:i}:null}}function Zl(t){if(vr(t))return Gl(t);var e=zl(t);return e?Ul(e):Xl(t)}function Ne(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}function Rs(t,e,r,n){let o=!1,i=!1,s=!1,a=0,u=0;function l(){a>=e||s||o||(s=!0,t.next().then(({value:f,done:h})=>{if(!(i||o)){if(s=!1,h){o=!0,a<=0&&n(null);return}a++,r(f,u,c),u++,l()}}).catch(p))}function c(f,h){if(a-=1,!i){if(f)return p(f);if(f===!1){o=!0,i=!0;return}if(h===gr||o&&a<=0)return o=!0,n(null);l()}}function p(f){i||(s=!1,o=!0,n(f))}l()}var le=t=>(e,r,n)=>{if(n=tt(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if(Vl(e))return Rs(e,t,r,n);if(Fl(e))return Rs(e[Symbol.asyncIterator](),t,r,n);var o=Zl(e),i=!1,s=!1,a=0,u=!1;function l(p,f){if(!s)if(a-=1,p)i=!0,n(p);else if(p===!1)i=!0,s=!0;else{if(f===gr||i&&a<=0)return i=!0,n(null);u||c()}}function c(){for(u=!0;a<t&&!i;){var p=o();if(p===null){i=!0,a<=0&&n(null);return}a+=1,r(p.value,p.key,Ne(l))}u=!1}c()};function Wl(t,e,r,n){return le(e)(t,G(r),n)}var Us=R(Wl,4);function Jl(t,e,r){r=tt(r);var n=0,o=0,{length:i}=t,s=!1;i===0&&r(null);function a(u,l){u===!1&&(s=!0),s!==!0&&(u?r(u):(++o===i||l===gr)&&r(null))}for(;n<i;n++)e(t[n],n,Ne(a))}function ql(t,e,r){return Us(t,1/0,e,r)}function Yl(t,e,r){var n=vr(t)?Jl:ql;return n(t,G(e),r)}var Re=R(Yl,3);function Kl(t,e,r){return Ln(Re,t,e,r)}var Xs=R(Kl,3),dd=Gs(Xs);function Ql(t,e,r){return Us(t,1,e,r)}var rt=R(Ql,3);function ef(t,e,r){return Ln(rt,t,e,r)}var tf=R(ef,3),_d=Gs(tf),yd=Symbol("promiseCallback");var On=class{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,r){r.prev=e,r.next=e.next,e.next?e.next.prev=r:this.tail=r,e.next=r,this.length+=1}insertBefore(e,r){r.prev=e.prev,r.next=e,e.prev?e.prev.next=r:this.head=r,e.prev=r,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):Hs(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):Hs(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var r=this.head;r;){var{next:n}=r;e(r)&&this.removeLink(r),r=n}return this}};function Hs(t,e){t.length=1,t.head=t.tail=e}function rf(t,e,r){if(e==null)e=1;else if(e===0)throw new RangeError("Concurrency must not be zero");var n=G(t),o=0,i=[];let s={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(_,b){s[_].push(b)}function u(_,b){let I=(...D)=>{l(_,I),b(...D)};s[_].push(I)}function l(_,b){if(!_)return Object.keys(s).forEach(I=>s[I]=[]);if(!b)return s[_]=[];s[_]=s[_].filter(I=>I!==b)}function c(_,...b){s[_].forEach(I=>I(...b))}var p=!1;function f(_,b,I,D){if(D!=null&&typeof D!="function")throw new Error("task callback must be a function");m.started=!0;var g,x;function M(T,...E){if(T)return I?x(T):g();if(E.length<=1)return g(E[0]);g(E)}var w=m._createTaskItem(_,I?M:D||M);if(b?m._tasks.unshift(w):m._tasks.push(w),p||(p=!0,Pt(()=>{p=!1,m.process()})),I||!D)return new Promise((T,E)=>{g=T,x=E})}function h(_){return function(b,...I){o-=1;for(var D=0,g=_.length;D<g;D++){var x=_[D],M=i.indexOf(x);M===0?i.shift():M>0&&i.splice(M,1),x.callback(b,...I),b!=null&&c("error",b,x.data)}o<=m.concurrency-m.buffer&&c("unsaturated"),m.idle()&&c("drain"),m.process()}}function y(_){return _.length===0&&m.idle()?(Pt(()=>c("drain")),!0):!1}let A=_=>b=>{if(!b)return new Promise((I,D)=>{u(_,(g,x)=>{if(g)return D(g);I(x)})});l(_),a(_,b)};var S=!1,m={_tasks:new On,_createTaskItem(_,b){return{data:_,callback:b}},*[Symbol.iterator](){yield*m._tasks[Symbol.iterator]()},concurrency:e,payload:r,buffer:e/4,started:!1,paused:!1,push(_,b){return Array.isArray(_)?y(_)?void 0:_.map(I=>f(I,!1,!1,b)):f(_,!1,!1,b)},pushAsync(_,b){return Array.isArray(_)?y(_)?void 0:_.map(I=>f(I,!1,!0,b)):f(_,!1,!0,b)},kill(){l(),m._tasks.empty()},unshift(_,b){return Array.isArray(_)?y(_)?void 0:_.map(I=>f(I,!0,!1,b)):f(_,!0,!1,b)},unshiftAsync(_,b){return Array.isArray(_)?y(_)?void 0:_.map(I=>f(I,!0,!0,b)):f(_,!0,!0,b)},remove(_){m._tasks.remove(_)},process(){if(!S){for(S=!0;!m.paused&&o<m.concurrency&&m._tasks.length;){var _=[],b=[],I=m._tasks.length;m.payload&&(I=Math.min(I,m.payload));for(var D=0;D<I;D++){var g=m._tasks.shift();_.push(g),i.push(g),b.push(g.data)}o+=1,m._tasks.length===0&&c("empty"),o===m.concurrency&&c("saturated");var x=Ne(h(_));n(b,x)}S=!1}},length(){return m._tasks.length},running(){return o},workersList(){return i},idle(){return m._tasks.length+o===0},pause(){m.paused=!0},resume(){m.paused!==!1&&(m.paused=!1,Pt(m.process))}};return Object.defineProperties(m,{saturated:{writable:!1,value:A("saturated")},unsaturated:{writable:!1,value:A("unsaturated")},empty:{writable:!1,value:A("empty")},drain:{writable:!1,value:A("drain")},error:{writable:!1,value:A("error")}}),m}function nf(t,e,r,n){n=tt(n);var o=G(r);return rt(t,(i,s,a)=>{o(e,i,(u,l)=>{e=l,a(u)})},i=>n(i,e))}var vd=R(nf,4);function of(t,e,r,n){return Ln(le(e),t,r,n)}var Zs=R(of,4);function sf(t,e,r,n){var o=G(r);return Zs(t,e,(i,s)=>{o(i,(a,...u)=>a?s(a):s(a,u))},(i,s)=>{for(var a=[],u=0;u<s.length;u++)s[u]&&(a=a.concat(...s[u]));return n(i,a)})}var Ws=R(sf,4);function af(t,e,r){return Ws(t,1/0,e,r)}var gd=R(af,3);function cf(t,e,r){return Ws(t,1,e,r)}var bd=R(cf,3);function be(t,e){return(r,n,o,i)=>{var s=!1,a;let u=G(o);r(n,(l,c,p)=>{u(l,(f,h)=>{if(f||f===!1)return p(f);if(t(h)&&!a)return s=!0,a=e(!0,l),p(null,gr);p()})},l=>{if(l)return i(l);i(null,s?a:e(!1))})}}function uf(t,e,r){return be(n=>n,(n,o)=>o)(Re,t,e,r)}var wd=R(uf,3);function lf(t,e,r,n){return be(o=>o,(o,i)=>i)(le(e),t,r,n)}var xd=R(lf,4);function ff(t,e,r){return be(n=>n,(n,o)=>o)(le(1),t,e,r)}var Ed=R(ff,3);function Js(t){return(e,...r)=>G(e)(...r,(n,...o)=>{typeof console=="object"&&(n?console.error&&console.error(n):console[t]&&o.forEach(i=>console[t](i)))})}var Sd=Js("dir");function pf(t,e,r){r=Ne(r);var n=G(t),o=G(e),i;function s(u,...l){if(u)return r(u);u!==!1&&(i=l,o(...l,a))}function a(u,l){if(u)return r(u);if(u!==!1){if(!l)return r(null,...i);n(s)}}return a(null,!0)}var Id=R(pf,3);function qs(t){return(e,r,n)=>t(e,n)}function hf(t,e,r){return Re(t,qs(G(e)),r)}var Td=R(hf,3);function mf(t,e,r,n){return le(e)(t,qs(G(r)),n)}var df=R(mf,4);function _f(t,e,r){return df(t,1,e,r)}var yf=R(_f,3);function vf(t){return Pn(t)?t:function(...e){var r=e.pop(),n=!0;e.push((...o)=>{n?Pt(()=>r(...o)):r(...o)}),t.apply(this,e),n=!1}}function gf(t,e,r){return be(n=>!n,n=>!n)(Re,t,e,r)}var Md=R(gf,3);function bf(t,e,r,n){return be(o=>!o,o=>!o)(le(e),t,r,n)}var Ad=R(bf,4);function wf(t,e,r){return be(n=>!n,n=>!n)(rt,t,e,r)}var kd=R(wf,3);function xf(t,e,r,n){var o=new Array(e.length);t(e,(i,s,a)=>{r(i,(u,l)=>{o[s]=!!l,a(u)})},i=>{if(i)return n(i);for(var s=[],a=0;a<e.length;a++)o[a]&&s.push(e[a]);n(null,s)})}function Ef(t,e,r,n){var o=[];t(e,(i,s,a)=>{r(i,(u,l)=>{if(u)return a(u);l&&o.push({index:s,value:i}),a(u)})},i=>{if(i)return n(i);n(null,o.sort((s,a)=>s.index-a.index).map(s=>s.value))})}function br(t,e,r,n){var o=vr(e)?xf:Ef;return o(t,e,G(r),n)}function Sf(t,e,r){return br(Re,t,e,r)}var Od=R(Sf,3);function If(t,e,r,n){return br(le(e),t,r,n)}var Pd=R(If,4);function Tf(t,e,r){return br(rt,t,e,r)}var Ld=R(Tf,3);function Mf(t,e){var r=Ne(e),n=G(vf(t));function o(i){if(i)return r(i);i!==!1&&n(o)}return o()}var Dd=R(Mf,2);function Af(t,e,r,n){var o=G(r);return Zs(t,e,(i,s)=>{o(i,(a,u)=>a?s(a):s(a,{key:u,val:i}))},(i,s)=>{for(var a={},{hasOwnProperty:u}=Object.prototype,l=0;l<s.length;l++)if(s[l]){var{key:c}=s[l],{val:p}=s[l];u.call(a,c)?a[c].push(p):a[c]=[p]}return n(i,a)})}var Cd=R(Af,4);var Nd=Js("log");function kf(t,e,r,n){n=tt(n);var o={},i=G(r);return le(e)(t,(s,a,u)=>{i(s,a,(l,c)=>{if(l)return u(l);o[a]=c,u(l)})},s=>n(s,o))}var Rd=R(kf,4);var yr;Vs?yr=process.nextTick:Bs?yr=setImmediate:yr=Fs;var Hd=zs(yr),jd=R((t,e,r)=>{var n=vr(e)?[]:{};t(e,(o,i,s)=>{G(o)((a,...u)=>{u.length<2&&([u]=u),n[i]=u,s(a)})},o=>r(o,n))},3);function Ys(t,e){var r=G(t);return rf((n,o)=>{r(n[0],o)},e,1)}var js=class{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let r;for(;e>0&&kn(this.heap[e],this.heap[r=$s(e)]);){let n=this.heap[e];this.heap[e]=this.heap[r],this.heap[r]=n,e=r}}percDown(e){let r;for(;(r=Of(e))<this.heap.length&&(r+1<this.heap.length&&kn(this.heap[r+1],this.heap[r])&&(r=r+1),!kn(this.heap[e],this.heap[r]));){let n=this.heap[e];this.heap[e]=this.heap[r],this.heap[r]=n,e=r}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let r=0;for(let n=0;n<this.heap.length;n++)e(this.heap[n])||(this.heap[r]=this.heap[n],r++);this.heap.splice(r);for(let n=$s(this.heap.length-1);n>=0;n--)this.percDown(n);return this}};function Of(t){return(t<<1)+1}function $s(t){return(t+1>>1)-1}function kn(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}function Pf(t,e){if(e=tt(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,n=t.length;r<n;r++)G(t[r])(e)}var $d=R(Pf,2);function Dn(t,e,r,n){let o=G(r);return br(t,e,(i,s)=>{o(i,(a,u)=>{s(a,!u)})},n)}function Lf(t,e,r){return Dn(Re,t,e,r)}var Bd=R(Lf,3);function Df(t,e,r,n){return Dn(le(e),t,r,n)}var Vd=R(Df,4);function Cf(t,e,r){return Dn(rt,t,e,r)}var Fd=R(Cf,3);function Nf(t,e,r){return be(Boolean,n=>n)(Re,t,e,r)}var zd=R(Nf,3);function Rf(t,e,r,n){return be(Boolean,o=>o)(le(e),t,r,n)}var Gd=R(Rf,4);function Hf(t,e,r){return be(Boolean,n=>n)(rt,t,e,r)}var Ud=R(Hf,3);function jf(t,e,r){var n=G(e);return Xs(t,(i,s)=>{n(i,(a,u)=>{if(a)return s(a);s(a,{value:i,criteria:u})})},(i,s)=>{if(i)return r(i);r(null,s.sort(o).map(a=>a.value))});function o(i,s){var a=i.criteria,u=s.criteria;return a<u?-1:a>u?1:0}}var Xd=R(jf,3);function $f(t,e){var r=null,n;return yf(t,(o,i)=>{G(o)((s,...a)=>{if(s===!1)return i(s);a.length<2?[n]=a:n=a,r=s,i(s?null:{})})},()=>e(r,n))}var Zd=R($f);function Bf(t,e,r){r=Ne(r);var n=G(e),o=G(t),i=[];function s(u,...l){if(u)return r(u);i=l,u!==!1&&o(a)}function a(u,l){if(u)return r(u);if(u!==!1){if(!l)return r(null,...i);n(s)}}return o(a)}var Wd=R(Bf,3);function Vf(t,e){if(e=tt(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function n(i){var s=G(t[r++]);s(...i,Ne(o))}function o(i,...s){if(i!==!1){if(i||r===t.length)return e(i,...s);n(s)}}n([])}var Jd=R(Vf);var Lt=class extends ue{constructor(r,n){super();this.tiles={};this.images={};this.map=r,this.options={...n,tileSize:n.tileSize??256};let{size:o,tileOffset:i}=r.options,{minZoom:s,maxZoom:a,tileSize:u}=this.options;for(let l=s;l<=a;l+=1){let c=u*2**(a-l),p=ge(o[1]/c),f=ge(o[0]/c),h=[Math.floor(i[0]/c),Math.floor(i[1]/c)],y=[];for(let A=0;A<p;A+=1){y[A]=[];for(let S=0;S<f;S+=1){let m=n.getTileUrl(S+h[0],A+h[1],l);y[A][S]=m}}this.tiles[l]=y}this.queue=Ys((l,c)=>{if(this.images[l])return c();let p=new Image;p.crossOrigin=n.crossOrigin,p.src=l,p.addEventListener("load",()=>{this.images[l]=p,this.map.draw(),c()})});for(let l of this.tiles[s])for(let c of l)this.fetch(c)}fetch(r){this.queue.push(r)}draw(){let{minZoom:r,maxZoom:n}=this.options;this.drawTiles(r);let o=n+Math.log2(this.map.scale);o=ge(Math.min(Math.max(o,r),n)),o>r&&this.drawTiles(o)}drawTiles(r){let n=this.tiles[r],{scale:o,offset:i,size:s,options:a}=this.map,u=this.options.tileSize*2**(this.options.maxZoom-r),l=u*o,c=a.size[0]%u*o,p=Math.floor(-i[0]/l),f=ge((s[0]-i[0]+c)/l),h=Math.floor(-i[1]/l),y=ge((s[1]-i[1])/l);for(let A=h;A<y;A+=1)for(let S=p;S<f;S+=1){let m=n[A][S],_=this.images[n[A][S]];_?this.map.canvas2d.drawImage(_,l*S-c,l*A,l,l):this.fetch(m)}}};var Dt=class extends ue{constructor(r,n){super();this.map=r,this.options={...n,anchor:n.anchor??[.5,1],clickable:n.clickable??!0}}draw(){let{items:r,image:n,anchor:o}=this.options,{canvas2d:i}=this.map,s=[n.width,n.height];s[0]/=devicePixelRatio,s[1]/=devicePixelRatio;for(let a of r){let[u,l]=this.map.toCanvasPosition([a.x,a.y]);u-=s[0]*o[0],l-=s[1]*o[1],this.map.overlaps([u,l],s)&&i.drawImage(n,u,l,s[0],s[1])}}};var nt=class extends ue{constructor(r,n){super();this.map=r,this.options=n,this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.top="0",this.element.style.left="0",this.element.appendChild(n.element),this.element.addEventListener("click",i=>{i.target!=this.element&&i.stopPropagation()}),new ResizeObserver(([i])=>{let{blockSize:s,inlineSize:a}=i.borderBoxSize[0];this.element.style.width=`${a}px`,this.element.style.height=`${s}px`}).observe(n.element)}draw(){let[r,n]=this.map.toCanvasPositionWithOffset(this.options.position);this.element.style.transform=`translate(${r}px, ${n}px)`}};var Ct=class extends ue{constructor(r,n){super();this.images={};this.minZoom=0;this.map=r,this.options=n,this.init()}async init(){this.minZoom=ge(this.map.minZoom);let r=this.options.image;for(let n=0;n>=this.minZoom;n-=1)r=this.downscaleImage(r),this.images[n]=r}downscaleImage(r){let n=document.createElement("canvas"),o=n.getContext("2d");return n.width=r.width/2,n.height=r.height/2,n.width==0||n.height==0?r:(o.drawImage(r,0,0,n.width,n.height),n)}draw(){let{canvas2d:r,scale:n}=this.map,o=ge(Math.log2(n));o=Math.max(Math.min(o,0),this.minZoom);let i=this.images[o]??this.options.image,{bounds:s}=this.options,[a,u]=this.map.mapPointOffset,l=(a+s[0][0])*n,c=(u+s[0][1])*n,p=(a+s[1][0])*n,f=(u+s[1][1])*n,h=[p-l,f-c];this.map.overlaps([l,c],h)&&r.drawImage(i,l,c,h[0],h[1])}};var va=ee(Qs()),ga=ee(de());var ot={size:[17408,16384],origin:[3568,6286],tileOffset:[-5120,0],maxZoom:.5,getTileUrl(t,e,r){return`https://assets.yuanshen.site/tiles_twt34/${r}/${t}_${e}.png`}},ea={size:[12288,12288],origin:[3568,6286],getTileUrl(t,e,r){return`https://assets.yuanshen.site/tiles_cyjy/${r}/${t}_${e}.png`}},Nn={size:[12288,12288],origin:[3568,6286],getTileUrl(t,e,r){return`https://assets.yuanshen.site/tiles_yxg2/${r}/${t}_${e}.png`}};var Rn=ee(Fe()),ta=ee(de());$e();$e();var Ff=0;function d(t,e,r,n,o,i){var s,a,u={};for(a in e)a=="ref"?s=e[a]:u[a]=e[a];var l={type:t,props:u,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Ff,__source:o,__self:i};if(typeof t=="function"&&(s=t.defaultProps))for(a in s)u[a]===void 0&&(u[a]=s[a]);return C.vnode&&C.vnode(l),l}function ra(t,e){let r=document.createElement("div"),{classList:n}=r;return n.add("marker"),n.add("relative","-left-1/2","w-56","bg-orange-50","shadow-lg"),n.add("rounded-lg","text-sm","flex","flex-col","gap-2","p-3"),r.style.top="calc(-100% - 46px)",(0,ta.render)(d(zf,{...e,areaItem:t}),r),r}function zf(t){let{markedSet:e}=te(v),r=e.has(t.id),n=null,{areaItem:o}=t;if(!o.specialFlag&&o.defaultRefreshTime==0){let i="flex-1 rounded-full text-center border border-solid";n=d("div",{className:"h-5 p-0.5 mt-1 rounded-full border border-yellow-900/50 border-solid flex",children:[d("div",{className:(0,Rn.default)(i,r?"border-transparent":"bg-yellow-900/40 border-yellow-900/60 text-white"),onClick:()=>oa(t.id),children:"\u672A\u5B8C\u6210"}),d("div",{className:(0,Rn.default)(i,r?"bg-cyan-600/90 border-cyan-900/80 text-white":"border-transparent"),onClick:()=>na(t.id),children:"\u5DF2\u5B8C\u6210"})]})}return d(Y,{children:[d("div",{className:"text-gray-900",children:t.markerTitle}),d("div",{className:"text-gray-500 text-xs",children:t.content}),t.picture&&d("img",{className:"w-full rounded",src:t.picture}),n]})}var ia=ee(Fe());$e();var sa=ee(de());var Nt=class{levels;switch;level=0;constructor(e){if(this.levels=e,e.length>1){let r=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER;for(let{bounds:s}of e)if(s){let[a,u]=s[1];r=Math.min(r,a),n=Math.max(n,u)}let o=document.createElement("div"),i=[r,n];this.switch=new nt(O,{element:o,position:i}),Bt(d(Gf,{maps:this}),o)}}async show(){this.showSwitch();let e=await this.getImageLayer(this.level);e&&O.imageLayers.add(e)}async hide(){this.hideSwitch();let e=await this.getImageLayer(this.level);e&&O.imageLayers.delete(e)}async showSwitch(){this.switch&&!O.domLayers.has(this.switch)&&O.domLayers.add(this.switch)}async hideSwitch(){this.switch&&O.domLayers.has(this.switch)&&O.domLayers.delete(this.switch)}getImageLayer(e){let{url:r,bounds:n}=this.levels[e];if(r&&n)return Hn(r,n)}async setLevel(e){let r=await this.getImageLayer(this.level);r&&O.imageLayers.delete(r),r=await this.getImageLayer(e),r&&O.imageLayers.add(r),O.draw(),this.level=e}};function Gf({maps:t}){let{levelSwitchVisible:e}=te(v),[r,n]=(0,sa.useState)(t.level);return d("div",{className:"flex flex-col gap-1",children:t.levels.map((o,i)=>d("div",{className:(0,ia.default)("w-20 h-6 whitespace-nowrap overflow-hidden rounded text-xs flex items-center justify-center duration-100 ease-out",i==r?"bg-cyan-600 text-white":"bg-orange-50",e?"opacity-100":"opacity-0"),onClick:()=>{n(i),t.setLevel(i)},children:o.name}))})}var jn=[{name:"\u8BF8\u6CD5\u4E1B\u67971",url:"https://assets.yuanshen.site/overlay/YL/1.png",bounds:[[-6299+1427,-2190+1353],[-6299+1427+404,-2190+1353+504]]},{name:"\u8BF8\u6CD5\u4E1B\u67972",url:"https://assets.yuanshen.site/overlay/YL/2.png",bounds:[[-6299+1299,-2190+2040],[-6299+1299+648,-2190+2040+570]]},{name:"\u8BF8\u6CD5\u4E1B\u67973",url:"https://assets.yuanshen.site/overlay/YL/3.png",bounds:[[-6299+2199,-2190+1671],[-6299+2199+398,-2190+1671+306]]},{name:"\u8BF8\u6CD5\u4E1B\u67974",url:"https://assets.yuanshen.site/overlay/YL/4.png",bounds:[[-6299+2177,-2190+2168],[-6299+2177+570,-2190+2168+515]]},{name:"\u8BF8\u6CD5\u4E1B\u67975",url:"https://assets.yuanshen.site/overlay/YL/5.png",bounds:[[-6299+2734,-2190+937],[-6299+2734+433,-2190+937+660]]},{name:"\u8BF8\u6CD5\u4E1B\u67976",url:"https://assets.yuanshen.site/overlay/YL/6.png",bounds:[[-6299+3323,-2190+507],[-6299+3323+443,-2190+507+377]]},{name:"\u8BF8\u6CD5\u4E1B\u67977",url:"https://assets.yuanshen.site/overlay/YL/7.png",bounds:[[-6299+3426,-2190+924],[-6299+3426+278,-2190+924+360]]},{name:"\u8BF8\u6CD5\u4E1B\u67978",url:"https://assets.yuanshen.site/overlay/YL/8.png",bounds:[[-6299+3796,-2190+1024],[-6299+3796+344,-2190+1024+393]]},{name:"\u8BF8\u6CD5\u4E1B\u67979",url:"https://assets.yuanshen.site/overlay/YL/9.png",bounds:[[-6299+3563,-2190+1604],[-6299+3563+443,-2190+1604+799]]},{name:"\u8BF8\u6CD5\u4E1B\u679710",url:"https://assets.yuanshen.site/overlay/YL/10.png",bounds:[[-6299+3787,-2190+2710],[-6299+3787+378,-2190+2710+560]]},{name:"\u8BF8\u6CD5\u4E1B\u679711",url:"https://assets.yuanshen.site/overlay/YL/11.png",bounds:[[-6299+3086,-2190+3297],[-6299+3086+521,-2190+3297+433]]},{name:"\u8BF8\u6CD5\u4E1B\u679712",url:"https://assets.yuanshen.site/overlay/YL/12.png",bounds:[[-6299+1887,-2190+3637],[-6299+1887+740,-2190+3637+346]]},{name:"\u5927\u8D64\u6C99\u6D771",url:"https://assets.yuanshen.site/overlay/SM/\u56FA\u5B9A\u5E95\u56FE1.png",bounds:[[-7664+142,540+1183],[-7664+142+1119,540+1183+1351]]},{name:"\u5927\u8D64\u6C99\u6D772",url:"https://assets.yuanshen.site/overlay/SM/\u56FA\u5B9A\u5E95\u56FE2.png",bounds:[[-7664+756,540+2256],[-7664+756+372,540+2256+105]]},{name:"\u5927\u8D64\u6C99\u6D773",url:"https://assets.yuanshen.site/overlay/SM/\u56FA\u5B9A\u5E95\u56FE3.png",bounds:[[-7664+2062,540+303],[-7664+2062+152,540+303+132]]},{name:"\u5927\u8D64\u6C99\u6D774",url:"https://assets.yuanshen.site/overlay/SM/\u56FA\u5B9A\u5E95\u56FE4.png",bounds:[[-7664+2072,540+796],[-7664+2072+160,540+796+178]]},{name:"\u5927\u8D64\u6C99\u6D775",url:"https://assets.yuanshen.site/overlay/SM/\u56FA\u5B9A\u5E95\u56FE5.png",bounds:[[-7664+1948,540+1483],[-7664+1948+293,540+1483+465]]},{name:"\u5927\u8D64\u6C99\u6D776",url:"https://assets.yuanshen.site/overlay/SM/\u56FA\u5B9A\u5E95\u56FE6.png",bounds:[[-7664+2254,540+1370],[-7664+2254+332,540+1370+271]]},{name:"\u5927\u8D64\u6C99\u6D777",url:"https://assets.yuanshen.site/overlay/SM/\u56FA\u5B9A\u5E95\u56FE7.png",bounds:[[-7664+2708,540+1656],[-7664+2708+398,540+1656+365]]},{name:"\u5927\u8D64\u6C99\u6D778",url:"https://assets.yuanshen.site/overlay/SM/\u56FA\u5B9A\u5E95\u56FE8.png",bounds:[[-7664+1608,540+2316],[-7664+1608+985,540+2316+693]]},{name:"\u5927\u8D64\u6C99\u6D778",url:"https://assets.yuanshen.site/overlay/SM/\u56FA\u5B9A\u5E95\u56FE8.png",bounds:[[-7664+1608,540+2316],[-7664+1608+985,540+2316+693]]},{name:"\u751F\u547D\u4E4B\u6BBF",url:"https://assets.yuanshen.site/overlay/\u751F\u547D\u4E4B\u6BBF-\u9634\u5F71.png",bounds:[[-7612,2],[-7612+643,2+588]]},{name:"\u9547\u7075\u76D1\u7262\u53CA\u5DE8\u4EBA\u5CE1\u8C37",url:"https://assets.yuanshen.site/overlay/\u9547\u7075\u76D1\u7262\u53CA\u5DE8\u4EBA\u5CE1\u8C37-\u9634\u5F71.png",bounds:[[-7186,502],[-7186+788,502+510]]},{name:"\u884C\u5BAB\u82B1\u56ED",url:"https://assets.yuanshen.site/overlay/\u884C\u5BAB\u82B1\u56ED-\u9634\u5F71.png",bounds:[[-7219,-785],[-7219+507,-785+522]]},{name:"\u4E94\u7EFF\u6D32",url:"https://assets.yuanshen.site/overlay/\u4E94\u7EFF\u6D32-\u9634\u5F71.png",bounds:[[-6171,-730],[-6171+643,-730+390]]}],aa=[[{name:"\u79D8\u4EEA\u5723\u6BBF - \u4E0A",url:"https://assets.yuanshen.site/overlay/SM/\u79D8\u4EEA1.png",bounds:[[-7664+1108,540+1682],[-7664+1108+460,540+1682+259]]},{name:"\u79D8\u4EEA\u5723\u6BBF - \u4E2D",url:"https://assets.yuanshen.site/overlay/SM/\u79D8\u4EEA2.png",bounds:[[-7664+1129,540+1589],[-7664+1129+279,540+1589+325]]},{name:"\u79D8\u4EEA\u5723\u6BBF - \u4E0B",url:"https://assets.yuanshen.site/overlay/SM/\u79D8\u4EEA3.png",bounds:[[-7664+1149,540+1629],[-7664+1149+305,540+1629+259]]}],[{name:"\u8D64\u738B\u9675 - \u4E0A",url:"https://assets.yuanshen.site/overlay/SM/\u738B\u96751.png",bounds:[[-7664+729,540+1729],[-7664+729+124,540+1729+85]]},{name:"\u8D64\u738B\u9675 - \u4E2D",url:"https://assets.yuanshen.site/overlay/SM/\u738B\u96752.png",bounds:[[-7664+696,540+1642],[-7664+696+372,540+1642+246]]},{name:"\u8D64\u738B\u9675 - \u4E0B",url:"https://assets.yuanshen.site/overlay/SM/\u738B\u96753.png",bounds:[[-7664+721,540+1702],[-7664+721+187,540+1702+166]]},{name:"\u8861\u6DEE\u5927\u5385"}],[{name:"\u820D\u8EAB\u6B65\u9053 - \u4E0A",url:"https://assets.yuanshen.site/overlay/SM/\u820D\u8EAB1.png",bounds:[[-7664+2250,540+1489],[-7664+2250+356,540+1489+432]]},{name:"\u820D\u8EAB\u6B65\u9053 - \u4E2D",url:"https://assets.yuanshen.site/overlay/SM/\u820D\u8EAB2.png",bounds:[[-7664+2152,540+1596],[-7664+2152+312,540+1596+398]]},{name:"\u820D\u8EAB\u6B65\u9053 - \u4E0B",url:"https://assets.yuanshen.site/overlay/SM/\u820D\u8EAB3.png",bounds:[[-7664+2276,540+1649],[-7664+2276+324,540+1649+332]]}],[{name:"\u5723\u663E\u5385 - \u4E0A",url:"https://assets.yuanshen.site/overlay/SM/\u5723\u663E1.png",bounds:[[-7664+1834,540+509],[-7664+1834+567,540+509+212]]},{name:"\u5723\u663E\u5385 - \u4E2D",url:"https://assets.yuanshen.site/overlay/SM/\u5723\u663E2.png",bounds:[[-7664+1809,540+502],[-7664+1809+592,540+502+226]]},{name:"\u5723\u663E\u5385 - \u4E0B",url:"https://assets.yuanshen.site/overlay/SM/\u5723\u663E3.png",bounds:[[-7664+1822,540+509],[-7664+1822+579,540+509+219]]}]],ca=[[{name:"\u8D64\u738B\u7684\u6C34\u6676\u676F",url:"https://assets.yuanshen.site/overlay/\u8D64\u738B\u7684\u6C34\u6676\u676F-\u9634\u5F71.png",bounds:[[-7043,-284],[-7043+769,-284+902]]},{name:"\u6C38\u6052\u7EFF\u6D32",url:"https://assets.yuanshen.site/overlay/\u6C38\u6052\u7EFF\u6D32-\u9634\u5F71.png",bounds:[[-6793,-125],[-6793+698,-125+689]]}],[{name:"\u9163\u4E50\u4E4B\u6BBF - \u4E0A",url:"https://assets.yuanshen.site/overlay/\u9163\u4E50\u4E4B\u6BBF1-\u9634\u5F71.png",bounds:[[-6972,-455],[-6972+270,-455+354]]},{name:"\u9163\u4E50\u4E4B\u6BBF - \u4E2D",url:"https://assets.yuanshen.site/overlay/\u9163\u4E50\u4E4B\u6BBF2-\u9634\u5F71.png",bounds:[[-6882,-548],[-6882+505,-548+514]]},{name:"\u9163\u4E50\u4E4B\u6BBF - \u4E0B",url:"https://assets.yuanshen.site/overlay/\u9163\u4E50\u4E4B\u6BBF3-\u9634\u5F71.png",bounds:[[-6997,-496],[-6997+347,-496+178]]},{name:"\u9163\u4E50\u4E4B\u6BBF - \u5E95",url:"https://assets.yuanshen.site/overlay/\u9163\u4E50\u4E4B\u6BBF4-\u9634\u5F71.png",bounds:[[-6904,-494],[-6904+285,-494+279]]}],[{name:"\u8D64\u738B\u795E\u6BBF - \u4E0A",url:"https://assets.yuanshen.site/overlay/\u5C45\u5C14\u57CE\u589F\xB7\u8D64\u738B\u795E\u6BBF1-\u9634\u5F71.png",bounds:[[-7341,1174],[-7341+583,1174+688]]},{name:"\u8D64\u738B\u795E\u6BBF - \u4E2D",url:"https://assets.yuanshen.site/overlay/\u5C45\u5C14\u57CE\u589F\xB7\u8D64\u738B\u795E\u6BBF2-\u9634\u5F71.png",bounds:[[-6886,1577],[-6886+130,1577+169]]},{name:"\u8D64\u738B\u795E\u6BBF - \u4E0B",url:"https://assets.yuanshen.site/overlay/\u5C45\u5C14\u57CE\u589F\xB7\u8D64\u738B\u795E\u6BBF3-\u9634\u5F71.png",bounds:[[-7317,1237],[-7317+581,1237+482]]}],[{name:"\u541B\u738B\u4E4B\u6BBF - \u4E0A",url:"https://assets.yuanshen.site/overlay/\u541B\u738B\u4E4B\u6BBF1-\u9634\u5F71.png",bounds:[[-6310,138],[-6310+442,138+409]]},{name:"\u541B\u738B\u4E4B\u6BBF - \u4E2D",url:"https://assets.yuanshen.site/overlay/\u541B\u738B\u4E4B\u6BBF2-\u9634\u5F71.png",bounds:[[-6089,139],[-6089+222,139+139]]},{name:"\u541B\u738B\u4E4B\u6BBF - \u4E0B",url:"https://assets.yuanshen.site/overlay/\u541B\u738B\u4E4B\u6BBF3-\u9634\u5F71.png",bounds:[[-6368,145],[-6368+435,145+468]]}],[{name:"\u6C99\u866B\u96A7\u9053 - \u4E0A",url:"https://assets.yuanshen.site/overlay/\u6C99\u866B\u96A7\u90531-\u9634\u5F71.png",bounds:[[-5914,-61],[-5914+682,-61+814]]},{name:"\u6C99\u866B\u96A7\u9053 - \u4E2D",url:"https://assets.yuanshen.site/overlay/\u6C99\u866B\u96A7\u90532-\u9634\u5F71.png",bounds:[[-5517,-19],[-5517+275,-19+506]]},{name:"\u6C99\u866B\u96A7\u9053 - \u4E0B",url:"https://assets.yuanshen.site/overlay/\u6C99\u866B\u96A7\u90533-\u9634\u5F71.png",bounds:[[-5490,-25],[-5490+180,-25+290]]}]];var wr,$n={},xr=[];async function Hn(t,e){let r=$n[t];return r||new Promise(n=>{let o=new Image;o.src=t,o.addEventListener("load",()=>{let i=new Ct(O,{image:o,bounds:e});$n[t]=i,n(i)})})}function Uf(){if(!wr){let{size:t}=O.options,[e,r]=O.mapPointOffset,n=document.createElement("canvas"),o=n.getContext("2d");o.fillStyle="rgba(0, 0, 0, 0.68)",o.rect(0,0,n.width,n.height),o.fill(),wr=new Ct(O,{image:n,bounds:[[-e,-r],t]})}O.imageLayers.add(wr)}function Xf(){O.imageLayers.delete(wr)}function Zf(t){let e=$n[t];e&&O.imageLayers.delete(e)}async function ua(){Uf();for(let{url:t,bounds:e}of jn)t&&e&&O.imageLayers.add(await Hn(t,e));for(let t of xr)t.show();O.draw()}function la(){Xf();for(let{url:t}of jn)t&&Zf(t);for(let t of xr)t.hide();O.draw()}async function fa(){for(let t of aa)xr.push(new Nt(t));for(let t of ca)xr.push(new Nt(t))}var ha={minZoom:10,maxZoom:13},O,Vn=new Map,Bn,He,pa=ot,Wf={4:ea,15:Nn,16:Nn};function Jf(t){if(t){let{target:e,index:r}=t,{items:n}=e.options,o=n[r];He&&O.domLayers.delete(He),He=new nt(O,{element:ra(e.options.areaItem,o.data),position:[o.x,o.y]}),O.domLayers.add(He),O.draw()}else He&&(O.domLayers.delete(He),He=null),O.draw();ya(),window.innerWidth<768&&_a()}function qf(){Math.log2(O.scale)>-2?v.levelSwitchVisible=!0:v.levelSwitchVisible=!1}async function ma(t){if(!t)return;O=new _r({...ot,element:t,onClick:Jf,onMove:qf});let{getTileUrl:e}=ot;Bn=new Lt(O,{...ha,getTileUrl:e}),Vn.set(ot,Bn),O.tileLayers.add(Bn),fa()}function da(t){let e=Wf[t]??ot;if(pa!=e){pa=e;let{options:r,element:n}=O;r.maxZoom=e.maxZoom??0,r.origin=e.origin,r.size=e.size,r.tileOffset=e.tileOffset??[0,0],O.resize(n.clientWidth,n.clientHeight),O.tileLayers.clear();let o=Vn.get(e);if(!o){let{getTileUrl:i}=e;o=new Lt(O,{...ha,getTileUrl:i}),Vn.set(e,o)}O.tileLayers.add(o)}}var Er=class{isTeleport=!1;areaItem;markerInfoList;markerLayer;markedMarkerLayer;items=[];markedItems=[];constructor(e,r){this.areaItem=e,this.markerInfoList=r,this.update()}async initMarkerLayer(){this.markerLayer||(this.markerLayer=await this.createMarkerLayer(this.items),O.markerLayers.add(this.markerLayer),O.draw()),this.markedMarkerLayer||(this.markedMarkerLayer=await this.createMarkerLayer(this.markedItems,!0),O.markerLayers.add(this.markedMarkerLayer),O.draw())}update(){this.items=[],this.markedItems=[];let e=this.markerInfoList.filter(r=>!v.nonGroundEnabled||it(r));for(let r of e){let[n,o]=r.position.split(",").map(i=>parseFloat(i));v.markedSet.has(r.id)?this.markedItems.push({data:r,x:n,y:o}):this.items.push({data:r,x:n,y:o})}this.markerLayer&&(this.markerLayer.options.items=this.items),this.markedMarkerLayer&&(this.markedMarkerLayer.options.items=this.markedItems),O.draw()}hideMarkerLayer(){this.markerLayer&&O.markerLayers.delete(this.markerLayer),this.hideMarked()}showMarkerLayer(){this.markerLayer&&O.markerLayers.add(this.markerLayer),this.showMarked()}hideMarked(){this.markedMarkerLayer&&O.markerLayers.delete(this.markedMarkerLayer),O.draw()}showMarked(){this.markedMarkerLayer&&O.markerLayers.add(this.markedMarkerLayer),O.draw()}createMarkerLayer(e,r=!1){let{specialFlag:i}=this.areaItem;return new Promise(s=>{let a=v.iconMap[this.areaItem.iconTag],u=document.createElement("div");u.style.position="relative",u.style.width=`${36*devicePixelRatio}px`,u.style.height=`${36*devicePixelRatio}px`;let l=d(Y,{children:[!i&&d(Yf,{marked:r}),d("img",{className:"object-contain w-full h-full box-border absolute left-0 top-0",style:{padding:(i?0:5)*devicePixelRatio},src:a,onLoad:async()=>{let{areaItem:c}=this,p=new Image;p.src=await va.default.toPng(u),s(new Dt(O,{image:p,items:e,areaItem:c})),document.body.removeChild(u)}})]});(0,ga.render)(l,u),document.body.appendChild(u)})}};function Yf(t){return d("svg",{className:"w-full h-full",viewBox:"0 0 64 64",fill:"none",children:d("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd",children:d("g",{transform:"translate(-912.000000, -444.000000)",children:d("g",{transform:"translate(902.000000, 434.000000)",children:[d("circle",{"fill-opacity":"0.298595935",fill:"#000000",cx:"42",cy:"42",r:"32"}),d("path",{d:"M42,13 C58.0162577,13 71,25.9837423 71,42 C71,58.0162577 58.0162577,71 42,71 C25.9837423,71 13,58.0162577 13,42 C13,25.9837423 25.9837423,13 42,13 Z M42,20 C29.8497355,20 20,29.8497355 20,42 C20,54.1502645 29.8497355,64 42,64 C54.1502645,64 64,54.1502645 64,42 C64,29.8497355 54.1502645,20 42,20 Z",fill:t.marked?"rgb(34 211 238)":"#ffffff"})]})})})})}var je,we={},ba={},at=new Set,st={},Fn="marked";async function wa(){let t="icons",e={};try{e=JSON.parse(localStorage.getItem(t))}catch{}v.iconMap=e??{};let{record:r}=await Te("icon/get/list",{size:1e3});for(let n of r)v.iconMap[n.name]=n.url;localStorage.setItem(t,JSON.stringify(v.iconMap))}async function xa(){let{record:t}=await Te("item_type/get/list/1");for(let e of t)e.items=[],v.itemTypeMap[e.typeId]=e}function Ea(){let t=localStorage.getItem(Fn);t&&(v.markedSet=_e(JSON.parse(t)))}async function Sr(){Gn(),je&&O.markerLayers.delete(je);let{record:t}=await Te("item/get/list",{areaIdList:[v.activeSubArea.areaId],size:1e3});for(let e of Object.values(v.itemTypeMap))e.items=[];v.teleports.clear();for(let e of t){ba[e.itemId]=e;for(let r of e.typeIdList){let n=v.itemTypeMap[r];n&&e.count>0&&!e.specialFlag&&n.items.push(e)}e.specialFlag&&v.teleports.add(e.itemId)}v.teleportVisible&&zn(Array.from(v.teleports))}async function zn(t){let e=[];for(let r of t){let n=we[r];n?(n.showMarkerLayer(),Ta(r)):e.push(r)}e.length?Kf(e):ct()}async function Kf(t){let e=await Te("marker/get/list_byinfo",{itemIdList:t});for(let r of e){it(r)&&at.add(r);let n=r.itemList.find(i=>t.includes(i.itemId)),o=st[n.itemId];o||(o=[],st[n.itemId]=o),o.push(r)}for(let r of t){let n=st[r];if(!n)continue;let o=new Er(ba[r],n);await o.initMarkerLayer(),we[r]=o}ct()}function Gn(){for(let t of v.teleports)v.activeAreaItems.delete(t),we[t]?.hideMarkerLayer(),Ia(t);ct()}function Sa(){if(v.teleports.size==0)return;let t=Array.from(v.teleports);if(!we[t[0]])return zn(t);for(let e of v.teleports)v.activeAreaItems.add(e),we[e]?.showMarkerLayer(),Ta(e);ct()}function Ia(t){for(let e of st[t]??[])it(e)&&at.delete(e)}function Ta(t){for(let e of st[t]??[])it(e)&&at.add(e)}function Ma(t){let{itemId:e}=t;v.activeAreaItems.has(e)?(v.activeAreaItems.delete(e),we[e]?.hideMarkerLayer(),Ia(e),ct()):(v.activeAreaItems.add(e),zn([t.itemId]))}function it(t){return t.markerExtraContent?.includes("sumeru")}function Ir(){for(let t of[...v.activeAreaItems,...v.teleports])we[t]?.update()}function na(t){v.markedSet.add(t),Ir();let e=Array.from(v.markedSet);localStorage.setItem(Fn,JSON.stringify(e))}function oa(t){v.markedSet.delete(t),Ir();let e=Array.from(v.markedSet);localStorage.setItem(Fn,JSON.stringify(e))}function Aa(){for(let t in we){let e=we[t];v.markedVisible?e.showMarked():e.hideMarked();for(let r of st[t]??[])it(r)&&(v.markedVisible?at.add(r):at.delete(r))}ct()}function ct(){if(je){O.markerLayers.delete(je),je.options.items=[];for(let t of at){let[e,r]=t.position.split(",").map(n=>parseFloat(n));je.options.items.push({x:e,y:r})}O.markerLayers.add(je),O.draw()}}async function Oa(){let t="areaList",e=!1,r=[];try{r=JSON.parse(localStorage.getItem(t))}catch{}ka(r??[]),v.activeSubArea&&(Sr(),e=!0),r=await Te("area/get/list",{isTraverse:!0,parentId:-1}),localStorage.setItem(t,JSON.stringify(r)),ka(r),e||Sr()}function ka(t){if(t.length){t.sort((e,r)=>e.parentId-r.parentId>0?1:r.sortIndex-e.sortIndex);for(let e of t)v.areaMap[e.areaId]||(e.children=[],v.areaMap[e.areaId]=e,e.parentId==-1?v.topAreaList.push(v.areaMap[e.areaId]):v.areaMap[e.parentId].children.push(v.areaMap[e.areaId]));v.activeTopArea=v.topAreaList[3],v.activeSubArea=v.activeTopArea.children[0]}}function Un(t){if(v.activeSubArea.areaId==t)return;let e=v.areaMap[t];v.activeTopArea=v.areaMap[e.parentId],v.activeSubArea=e,da(t),Sr()}var v=Le({accessToken:"",topAreaList:[],areaMap:{},activeTopArea:null,activeSubArea:null,itemTypeMap:{},isDrawerOpen:!1,isAreaPickerOpen:!1,iconMap:{},teleports:_e(),markedSet:_e(),activeAreaItems:_e(),nonGroundMarkers:_e(),teleportVisible:!1,markedVisible:!0,nonGroundEnabled:!1,levelSwitchVisible:!1});async function Pa(){v.accessToken=localStorage.getItem("accessToken")??"",xa().then(()=>{wa(),Oa()}),Ea()}function La(){v.isDrawerOpen=!v.isDrawerOpen}function _a(){v.isDrawerOpen=!1}function Da(){v.isAreaPickerOpen=!v.isAreaPickerOpen}function Ca(){v.teleportVisible=!v.teleportVisible,v.teleportVisible?Sa():Gn()}function Na(){v.markedVisible=!v.markedVisible,Aa()}function Ra(){v.nonGroundEnabled=!v.nonGroundEnabled,Ir(),v.nonGroundEnabled?ua():la()}function ya(){v.isAreaPickerOpen=!1}async function Ii(){v.accessToken=await Si(),localStorage.setItem("accessToken",v.accessToken)}var Ha="./inazuma-active-XYBT7REW.png";var ja="./inazuma-ZKIA4M3R.png";var $a="./liyue-active-4QQK7GZS.png";var Ba="./liyue-white-DSEI3ZAD.png";var Va="./liyue-K56SXT2K.png";var Fa="./mondstadt-active-S755SEGX.png";var za="./mondstadt-white-OKFY377W.png";var Ga="./mondstadt-SKK4ZLSV.png";var Ua="./sumeru-active-K6CGGM52.png";var Xa="./sumeru-white-NUS67GY6.png";var Za="./sumeru-H6DKHJ25.png";var Wa="./inazuma-white-25HPIRSG.png";var Xn={\u8499\u5FB7:{default:Ga,active:Fa,white:za},\u7483\u6708:{default:Va,active:$a,white:Ba},\u7A3B\u59BB:{default:ja,active:Ha,white:Wa},\u987B\u5F25:{default:Za,active:Ua,white:Xa}};function Ja(){let{activeTopArea:t,activeSubArea:e,topAreaList:r,isAreaPickerOpen:n}=te(v);return t==null?null:d(Y,{children:[d("div",{className:(0,ut.default)("absolute h-16 md:h-20 flex items-center ease-out duration-300",n?"opacity-0 -right-20":"opacity-100 right-4"),onClick:Da,children:[d("div",{className:"flex-1 flex flex-col pt-1 mr-4 items-end justify-center",children:[d("div",{className:"text-white flex items-center",children:[d("div",{className:"rounded-full px-2 h-6 bg-black/50 mr-2 flex items-center",children:[d("img",{className:"w-5 md:h-5 mr-1",src:Ei}),d("div",{className:"leading-none text-sm",children:"\u66F4\u6362\u5730\u533A"})]}),d("div",{className:"text-xl md:text-2xl font-semibold",children:t.name})]}),d("div",{className:"text-yellow-400 font-semibold text-sm md:text-base",children:["\u5F53\u524D\u9009\u62E9 - ",e.name]})]}),d("img",{className:"w-12 h-12 md:w-16 md:h-16",src:Xn[t.name].default})]}),d("div",{className:(0,ut.default)("absolute w-full h-16 md:h-20 flex items-center justify-center ease-out duration-300",n?"top-0 opacity-100":"-top-20 md:-top-16 opacity-0"),style:{background:"linear-gradient(90deg,rgba(0,0,0,0) 0%,rgba(0,0,0,.5) 50%,rgba(0,0,0,0) 100%)"},children:[r.map(o=>{let i=Xn[o.name];return d("div",{className:"mx-2 relative w-11 h-11 md:w-14 md:h-14",onClick:()=>{Un(o.children[0].areaId)},children:[d("img",{className:(0,ut.default)("absolute w-16 h-16 md:w-20 md:h-20 -top-2.5 -left-2.5 md:-top-3 md:-left-3 ease-out duration-300",t==o?"opacity-100":"opacity-0"),src:i.active}),d(Y,{children:[d("img",{className:"w-full h-full",src:i.white}),d("img",{className:"w-full h-full absolute top-0 left-0 opacity-0 hover:opacity-100 ease-out duration-300",src:i.default})]})]})}),d("div",{className:(0,ut.default)("absolute top-16 md:top-20 px-8 py-2 flex flex-wrap gap-2 justify-center",!n&&"hidden"),children:t.children.map(o=>d("div",{className:(0,ut.default)("py-0.5 px-4 rounded-full bg-black/50 text-white font-semibold border-2 border-solid hover:border-white ease-out duration-300",e==o?"border-white":"border-transparent"),onClick:()=>{Un(o.areaId)},children:o.name}))})]})]})}var Tr=ee(Fe());var qa="./drawer-arrow-PT6EU2Y5.png";var Ya="./drawer-bg-bottom-LIPWKSWM.png";var Ka="./drawer-bg-content-WAO4COBD.png";var Qa="./drawer-bg-top-BQTCOIPL.png";var ec="./drawer-button-YDIAMH2C.png";var Zn=Le({selected:_e()});function tc(){let{isDrawerOpen:t}=te(v);return d("div",{className:"flex flex-col w-72 h-[calc(100%-4rem)] md:h-[calc(100%-5rem)] absolute top-16 md:top-20 right-2 duration-300 ease-out",style:{transform:`translate(${t?0:276}px, 0)`},children:[d(_p,{}),d("img",{className:"w-full relative top-1",src:Qa}),d("div",{className:"flex-1",style:{background:`url(${Ka}) center / 100%`}}),d("img",{className:"w-full relative -top-1",src:Ya}),d("div",{className:"absolute w-full h-full pt-2.5 pl-5 pr-3 pb-11 box-border",children:[d("div",{className:"rounded w-60 mx-auto h-2.5 shadow relative top-1",style:{backgroundColor:"#b6a9a3"}}),d(yp,{})]})]})}function _p(){let{isDrawerOpen:t}=te(v);return d("div",{className:"absolute -z-10 top-2 -left-11 h-8 w-14 bg-contain bg-right bg-no-repeat",style:{backgroundImage:`url(${ec})`},onClick:La,children:d("div",{className:(0,Tr.default)("h-5 w-5 mt-1.5 ml-6 bg-cover duration-300 ease-out",!t&&"rotate-180"),style:{backgroundImage:`url(${qa})`}})})}function yp(){let{itemTypeMap:t}=te(v);return d("div",{className:"rounded w-full h-full shadow relative overflow-y-auto",style:{backgroundColor:"#f2f0eb"},children:Object.values(t).filter(e=>e.items.length>0).map(e=>d(vp,{itemType:e}))})}function vp(t){let{iconMap:e}=te(v),{selected:r}=te(Zn),{name:n,iconTag:o,typeId:i,items:s}=t.itemType,a=r.has(i),u=e[o||`icon_${n}`],l=2.5*Math.ceil(s.length/2)+.5;return d("div",{className:"m-2 p-2 bg-white rounded",onClick:()=>{a?Zn.selected.delete(i):Zn.selected.add(i)},children:[d("div",{className:"flex items-center",children:[d("img",{src:u,className:"w-6 h-6 mr-2"}),d("div",{className:"flex-1 text-gray-900",children:n}),d("div",{className:(0,Tr.default)("text-sm duration-300 ease-out",!a&&"rotate-180"),style:{color:"#b6a9a3"},children:"\u25B2"})]}),d("div",{className:"overflow-hidden duration-300 ease-out",style:{height:`${a?l:0}rem`},children:[d("div",{className:"h-3",onClick:()=>{}}),d(gp,{items:s,isSelected:a})]})]})}function gp(t){let{activeAreaItems:e}=te(v);return d("div",{className:"grid grid-cols-2 gap-1",children:t.items.map(r=>{let n=e.has(r.itemId);return d("div",{className:"text-xs",style:{background:n?"#424b63":"#f6f6f6"},onClick:o=>{o.stopPropagation(),Ma(r)},children:d("div",{className:"flex",children:[d("div",{className:"w-9 h-9 bg-black/10 p-1 box-border mr-1",children:t.isSelected&&d("img",{className:"w-7 h-7 object-contain",src:v.iconMap[r.iconTag]})}),d("div",{className:"flex flex-1 flex-col justify-center overflow-hidden",children:[d("div",{className:(0,Tr.default)("whitespace-nowrap text-ellipsis overflow-hidden",n&&"text-gray-200"),children:r.name}),d("div",{className:"text-gray-500",children:r.count})]})]})})})})}var Mr=ee(Fe()),oc=ee(de());var rc="./switch-off-PHM6PJE5.png";var nc="./switch-on-TMYSJZOS.png";function Ar({defaultValue:t=!1,label:e,onChange:r,...n}){let[o,i]=(0,oc.useState)(t);return d("div",{...n,className:(0,Mr.default)("h-6 gap-2 flex items-center",n.className),onClick:()=>{i(!o),r(!o)},children:[d("div",{className:"w-10 h-5 relative",children:[d("img",{className:(0,Mr.default)("w-full absolute",o&&"block"),src:nc}),d("img",{className:(0,Mr.default)("w-full absolute",o&&"hidden"),src:rc})]}),d("div",{className:"text-white font-semibold",style:{textShadow:"1px 1px 1px #000"},children:e})]})}function ic(){return d("div",{className:"absolute bottom-4 left-4 flex flex-col gap-1.5",children:[d(Ar,{defaultValue:v.nonGroundEnabled,label:"\u5730\u4E0B\u5730\u56FE",onChange:Ra}),d(Ar,{defaultValue:v.teleportVisible,label:"\u4F20\u9001\u70B9\u4F4D",onChange:Ca}),d(Ar,{defaultValue:v.markedVisible,label:"\u6807\u8BB0\u70B9\u4F4D",onChange:Na})]})}window.React=xp;function Ep(){return d(Y,{children:[d("div",{ref:ma,className:"h-full w-full absolute"}),d("div",{className:"absolute pointer-events-none top-0 w-full h-16 md:h-20 bg-gradient-to-b from-black/50 to-transparent"}),d(ic,{}),d(tc,{}),d(Ja,{})]})}Pa();(0,sc.render)(d(Ep,{}),document.getElementById("main"));})();
/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
